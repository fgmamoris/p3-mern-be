{"version":3,"sources":["types/types.js","components/helpers/fetch.js","components/actions/action.js","components/helpers/startAddImage.js","components/helpers/startDeleteOldImage.js","components/actions/product.js","components/actions/cart.js","components/actions/sale.js","components/actions/user.js","components/actions/auth.js","components/ui/SpinnerR.js","hooks/emailValidation.js","login/LoginScreen.js","hooks/useForm.js","components/product/ProductDetail.js","components/ui/modals/ProductModal.js","components/product/CardProduct.js","components/product/ProductsList.js","components/ui/NavBarBoot.js","components/user/TableHeadUsers.js","components/user/TableCellButton.js","components/user/TableBodyUsers.js","components/user/UsersList.js","assets/no-image.png","components/ui/Avatar.js","components/user/RegisterUser.js","components/product/RegisterProduct.js","components/sales/TableHeadSales.js","components/sales/TableCellButton.js","components/sales/TableBodySales.js","components/sales/SalesList.js","components/sales/detail/SaleDetailTableHead.js","components/sales/detail/SaleDetailTableBody.js","components/sales/detail/SaleDetail.js","routers/DashBoardRoutes.js","components/shop/ShopCartTableHead.js","components/shop/ShopTableBody.js","hooks/calculateTotal.js","components/shop/ShopTableBodyFoot.js","components/shop/ShopCart.js","hooks/productsInvoice.js","components/orderDetail/HeaderOrderDetail.js","components/orderDetail/OrderItemDetail.js","components/orderDetail/OrderDetailFoot.js","components/checkout/CheckOut.js","hooks/validateCreditDateExpiration.js","routers/DashBoardSellerRoutes.js","routers/PrivateRoute.js","routers/PublicRoute.js","routers/MarkerRouter.js","components/reducers/actionReducer.js","components/reducers/authReducer.js","components/reducers/cartReducer.js","components/reducers/productReducer.js","components/reducers/salesReducer.js","components/reducers/usersReducer.js","components/reducers/rootReducer.js","components/store/store.js","MarketApp.js","index.js"],"names":["types","authCheckingFinish","authLogin","authLogout","productCheckingList","productAddNew","productUpdated","productDeleted","userCheckingList","userAddNew","userUpdated","userDeleted","cartChecking","cartUpdated","cartDeleted","updateCart","saleCheckingList","saleNew","saleChangeState","confirmAction","removeAction","baseUrl","process","fetchSinToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchConToken","token","localStorage","getItem","type","startAddImage","file","a","formData","FormData","append","resp","ok","json","cloudResp","secure_url","startDeleteOldImage","path","name","replace","split","id","startCheckingListProducts","dispatch","products","map","p","checkingListProducts","console","log","payload","addNewProduct","product","startUpdateProduct","formValues","avatar","tradeMark","description","price","qty","mediaUrl","Swal","fire","title","text","allowOutsideClick","showConfirmButton","willOpen","showLoading","_id","productUpdate","productResult","msg","startLogout","startUpdateProductQty","qtyOrder","parseInt","close","productDelete","startCartCheking","cart","startCartCancel","cartDelete","forEach","startCartDelete","startSaleCheckingList","uid","sales","s","saleCheking","starNewSale","sale","getState","auth","firstName","lastName","saleN","seller","client","fullName","address","email","paymentBreakdown","paymentMethod","card","paidDate","date","totalAmount","state","newSale","startSaleChangeState","userStartCheckingList","users","u","addNewUser","user","login","ckeckingFinish","clear","logout","SpinnerR","style","width","height","display","justifyContent","alignItems","color","emailValidation","inputData","test","LoginScreen","useDispatch","useState","validated","setValidated","initialState","values","setValues","target","value","useForm","inputEmail","inputPassword","handleInputChange","className","Form","noValidate","onSubmit","event","password","form","currentTarget","checkValidity","preventDefault","stopPropagation","setItem","Date","getTime","position","employeePosition","Group","controlId","Control","onChange","placeholder","required","Feedback","minLength","Button","ProductDetail","history","useParams","useSelector","productView","setProductView","useEffect","length","find","Container","overflow","marginTop","marginBottom","Card","Badge","pill","variant","Img","src","maxWidth","maxHeight","objectFit","margin","Body","Title","ListGroup","Item","Row","onClick","e","goBack","push","ProductModal","props","show","setShow","handleClose","setQtyOrder","action","Modal","onHide","backdrop","Header","closeButton","Footer","inline","startNewCart","cartUpdate","foundProduct","filter","pUpdate","startAddProductToCart","Label","min","max","pattern","CardProduct","useHistory","border","alt","code","Text","maxLines","to","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","onBeforeOpen","ProductsList","Col","CardColumns","NavBarBoot","Navbar","bg","Brand","Nav","exact","justifyItems","TableHeadUsers","scope","TableCellButton","handleShowDelete","TableBodyUsers","Image","UsersList","Table","responsive","Avatar","setAvatar","imgUrl","img","setImg","handleUploadPicture","files","URL","createObjectURL","handlePictureClick","document","querySelector","click","imgNoImage","roundedCircle","marginLeft","cursor","size","initiUser","RegisterUser","setFormValues","userUpdate","alignContent","startUpdateUser","startAddNewUser","as","md","InputGroup","Prepend","aria-describedby","onSelect","label","option","initProduct","RegisterProduct","startAddNewProduct","maxLength","rows","step","TableHeadSales","TableBodySales","substring","SalesList","SaleDetailTableHead","SaleDetailTableBody","amountProduct","SaleDetail","saleView","setSaleView","DashBoardRoutes","component","ShopCartTableHead","ShopTableBody","startCartUpdateDeleteProduct","caltulateTotal","productsOrder","element","index","j","ShopTableBodyFoot","total","setTotal","ShopCart","productsInvoice","HeaderOrderDetail","qtyProductsOrder","OrderItemDetail","OrderDetailFoot","initSale","expiredDate","cvv","nameFullCard","CheckOut","msgExpireDate","setMsgExpireDate","validDate","setValidDate","productsPass","setProductsPass","handleInputNumber","inputExpireDate","valid","getFullYear","getMonth","isInvalid","DashBoardSellerRoutes","PrivateRoute","isAuthnticated","Component","rest","prototypes","PropTypes","bool","isRequired","func","PublicRoute","isAuthenticated","MarketRouter","checking","rootReducer","combineReducers","productUpdatedCartRestQty","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","MarketApp","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.73db2391.chunk.js","sourcesContent":["export const types = {\r\n  authCheckingFinish: '[auth] Finish login state',\r\n  authLogin: '[auth] Login',\r\n  authLogout: '[auth] Logut',\r\n\r\n  productCheckingList: '[product] Checking list of products',\r\n  productAddNew: '[product] Add new',\r\n  productUpdated: '[product] Product updated',\r\n  productDeleted: '[product] Product deleted',\r\n\r\n  userCheckingList: '[user] Checking users list',\r\n  userAddNew: '[user] Add new',\r\n  userUpdated: '[user] user updated',\r\n  userDeleted: '[user] user deleted',\r\n\r\n  cartChecking: '[cart] Cart checking',\r\n  cartUpdated: '[cart] cart updated',\r\n  cartDeleted: '[cart] cart deleted',\r\n  updateCart: '[cart] Update product to cart',\r\n\r\n  saleCheckingList: '[sale] Checking sales',\r\n  saleNew: '[sale] New sale',\r\n  saleChangeState: '[sale] Change state sale',\r\n\r\n  confirmAction: '[action] Confirm action',\r\n  removeAction: '[action] Remove action',\r\n};\r\n","const baseUrl = process.env.REACT_APP_URI;\r\n\r\nconst fetchSinToken = (endpoint, data, method = 'GET') => {\r\n  const url = `${baseUrl}/${endpoint}`; //localhost:4000/api/...\r\n\r\n  if (method === 'GET') {\r\n    return fetch(url);\r\n  } else {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n};\r\nconst fetchConToken = (endpoint, data, method = 'GET') => {\r\n  const url = `${baseUrl}/${endpoint}`; //localhost:4000/api/...\r\n  const token = localStorage.getItem('token') || ''; // por si retorna un null\r\n  if (method === 'GET') {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        'x-access-token': token,\r\n      },\r\n    });\r\n  } else {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        'x-access-token': token,\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n};\r\nconst fetchImageConToken = (endpoint, file, method = 'GET') => {\r\n  const url = `${baseUrl}/${endpoint}`; //localhost:4000/api/...\r\n  const token = localStorage.getItem('token') || ''; // por si retorna un null\r\n  console.log(url);\r\n  if (method === 'GET') {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        'x-access-token': token,\r\n      },\r\n    });\r\n  } else {\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n    console.log('ERROR??');\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        'x-access-token': token,\r\n        //'Content-Type': 'multipart/form-data',\r\n      },\r\n      body: formData,\r\n    });\r\n  }\r\n};\r\nexport { fetchSinToken, fetchConToken, fetchImageConToken };\r\n","import { types } from '../../types/types';\r\n\r\nexport const confirmAction = () => ({\r\n  type: types.confirmAction,\r\n});\r\nexport const removeAction = () => ({\r\n  type: types.removeAction,\r\n});\r\n","export const startAddImage = (file) => {\r\n  return async () => {\r\n    const cloudUrl = 'https://api.cloudinary.com/v1_1/dcqudzsce/image/upload';\r\n\r\n    const formData = new FormData();\r\n    formData.append('upload_preset', 'super_market');\r\n    formData.append('file', file);\r\n    try {\r\n      const resp = await fetch(cloudUrl, {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n\r\n      if (resp.ok) {\r\n        const cloudResp = await resp.json();\r\n        return cloudResp.secure_url;\r\n      } else {\r\n        throw await resp.json();\r\n      }\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n    // return url de la imagen\r\n  };\r\n};\r\n","import { fetchConToken } from './fetch';\r\n\r\nexport const startDeleteOldImage = (path) => {\r\n  return async () => {\r\n    let name = path;\r\n    name = name.replace(/^.*[\\\\\\/]/, '');\r\n    name = name.split('.');\r\n    const id = name[0];\r\n    try {\r\n      const resp = await fetchConToken(`image/${id}`, {}, 'DELETE');\r\n      if (resp.ok) {\r\n        return true;\r\n      } else {\r\n        throw await resp.json();\r\n      }\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  };\r\n};\r\n","import Swal from 'sweetalert2';\r\n\r\nimport { types } from '../../types/types';\r\nimport { fetchConToken } from '../helpers/fetch';\r\nimport { startAddImage } from '../helpers/startAddImage';\r\nimport { confirmAction } from './action';\r\nimport { startLogout } from './auth';\r\nimport { startDeleteOldImage } from '../helpers/startDeleteOldImage';\r\n\r\nexport const startCheckingListProducts = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken('product', {}, 'GET');\r\n      const body = await resp.json();\r\n      const products = body.products.map((p) => p);\r\n      dispatch(checkingListProducts(products));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\nexport const checkingListProducts = (products) => ({\r\n  type: types.productCheckingList,\r\n  payload: products,\r\n});\r\n\r\nexport const startAddNewProduct = (formValues, avatar) => {\r\n  return async (dispatch) => {\r\n    let product = {\r\n      name: formValues.name,\r\n      tradeMark: formValues.tradeMark,\r\n      description: formValues.description,\r\n      price: formValues.price,\r\n      qty: formValues.qty,\r\n      mediaUrl: formValues.mediaUrl,\r\n    };\r\n    Swal.fire({\r\n      title: 'Uploading...',\r\n      text: 'Please wait...',\r\n      allowOutsideClick: false,\r\n      showConfirmButton: false,\r\n      willOpen: () => {\r\n        Swal.showLoading();\r\n      },\r\n    });\r\n    if (avatar) {\r\n      product.mediaUrl = await dispatch(startAddImage(avatar));\r\n    } else {\r\n      product.mediaUrl =\r\n        'https://res.cloudinary.com/dcqudzsce/image/upload/v1613417488/super_market/no-image.png';\r\n    }\r\n    try {\r\n      const resp = await fetchConToken('product/new', product, 'POST');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        product._id = body.product._id;\r\n        product.code = body.product.code;\r\n        dispatch(addNewProduct(product));\r\n        dispatch(confirmAction());\r\n        Swal.fire(\r\n          'Acción confirmada',\r\n          'Producto agregado con éxito',\r\n          'success'\r\n        );\r\n      } else if (body.msg === 'Token invalid') {\r\n        dispatch(startLogout());\r\n      } else {\r\n        Swal.fire('Error', body.msg, 'error');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const addNewProduct = (product) => ({\r\n  type: types.productAddNew,\r\n  payload: product,\r\n});\r\n\r\nexport const startUpdateProduct = (formValues, avatar) => {\r\n  return async (dispatch) => {\r\n    let product = {\r\n      name: formValues.name,\r\n      tradeMark: formValues.tradeMark,\r\n      description: formValues.description,\r\n      price: formValues.price,\r\n      qty: formValues.qty,\r\n      mediaUrl: formValues.mediaUrl,\r\n    };\r\n    Swal.fire({\r\n      title: 'Uploading...',\r\n      text: 'Please wait...',\r\n      allowOutsideClick: false,\r\n      showConfirmButton: false,\r\n      willOpen: () => {\r\n        Swal.showLoading();\r\n      },\r\n    });\r\n    if (avatar) {\r\n      if (\r\n        product.mediaUrl !==\r\n        'https://res.cloudinary.com/dcqudzsce/image/upload/v1613417488/super_market/no-image.png'\r\n      ) {\r\n        await dispatch(startDeleteOldImage(product.mediaUrl));\r\n      }\r\n      product.mediaUrl = await dispatch(startAddImage(avatar));\r\n    }\r\n    try {\r\n      const resp = await fetchConToken(\r\n        `product/${formValues._id}`,\r\n        product,\r\n        'PUT'\r\n      );\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        dispatch(productUpdate(body.productResult));\r\n        dispatch(confirmAction());\r\n      } else if (body.msg === 'Token invalid') {\r\n        dispatch(startLogout());\r\n      } else {\r\n        Swal.fire('Error', body.msg, 'error');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\nconst productUpdate = (product) => ({\r\n  type: types.productUpdated,\r\n  payload: product,\r\n});\r\n\r\nexport const startUpdateProductQty = (_id, qtyOrder, method) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(`product/${_id}`, {}, 'GET');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        let productUpdate = body.product;\r\n        if (method === 'rest') {\r\n          productUpdate.qty = parseInt(productUpdate.qty) - parseInt(qtyOrder);\r\n        } else if (method === 'add') {\r\n          productUpdate.qty = parseInt(productUpdate.qty) + parseInt(qtyOrder);\r\n        }\r\n        dispatch(startUpdateProduct(productUpdate));\r\n        Swal.close();\r\n      } else if (body.msg === 'Token invalid') {\r\n        dispatch(startLogout());\r\n      } else {\r\n        Swal.fire('Error', body.msg, 'error');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const startDeleteProduct = (id) => {\r\n  return async (dispatch, getState) => {\r\n    const { products } = getState().products;\r\n    const p = products.find((p) => p._id === id);\r\n    try {\r\n      Swal.fire({\r\n        title: 'Uploading...',\r\n        text: 'Please wait...',\r\n        allowOutsideClick: false,\r\n        showConfirmButton: false,\r\n        onBeforeOpen: () => {\r\n          Swal.showLoading();\r\n        },\r\n      });\r\n      if (\r\n        p.mediaUrl !==\r\n        'https://res.cloudinary.com/dcqudzsce/image/upload/v1613417488/super_market/no-image.png'\r\n      ) {\r\n        await dispatch(startDeleteOldImage(p.mediaUrl));\r\n      }\r\n      const resp = await fetchConToken(`product/${id}`, {}, 'Delete');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        dispatch(productDelete(id));\r\n        dispatch(confirmAction());\r\n        Swal.close();\r\n        Swal.fire(\r\n          'Acción confirmada',\r\n          'Producto eliminado con éxito',\r\n          'success'\r\n        );\r\n      } else if (body.msg === 'Token invalid') {\r\n        dispatch(startLogout());\r\n      } else {\r\n        Swal.fire('Error', body.msg, 'error');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const productDelete = (id) => ({\r\n  type: types.productDeleted,\r\n  payload: id,\r\n});\r\n","import Swal from 'sweetalert2';\r\n\r\nimport { types } from '../../types/types';\r\nimport { fetchConToken } from '../helpers/fetch';\r\nimport { confirmAction } from './action';\r\nimport { startLogout } from './auth';\r\nimport { startUpdateProductQty } from './product';\r\n\r\nexport const startCartCheking = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(`cart/user`, {}, 'GET');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        const cart = body.cart;\r\n        dispatch(cartChecking(cart));\r\n      } else if (body.msg === 'Token invalid') {\r\n        dispatch(startLogout());\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\nexport const cartChecking = (cart) => ({\r\n  type: types.cartChecking,\r\n  payload: cart,\r\n});\r\n\r\nexport const startNewCart = (uid, _id, qtyOrder) => {\r\n  return async (dispatch) => {\r\n    const cart = {\r\n      user: uid,\r\n      products: [{ product: _id, qtyOrder: qtyOrder }],\r\n    };\r\n    try {\r\n      const resp = await fetchConToken('cart/new', cart, 'POST');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        cart._id = body.cart._id;\r\n        dispatch(cartChecking(body.cart));\r\n        dispatch(startUpdateProductQty(_id, qtyOrder, 'rest'));\r\n        dispatch(confirmAction());\r\n        Swal.fire('Producto agregado al carro');\r\n      } else if (body.msg === 'Token invalid') {\r\n        dispatch(startLogout());\r\n      } else {\r\n        Swal.fire('Error', body.msg, 'error');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\nexport const startAddProductToCart = (uid, _id, qtyOrder) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(`cart/user`, {}, 'GET');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        const cartUpdate = body.cart;\r\n        const foundProduct = cartUpdate.products.filter(\r\n          (p) => p.product === _id\r\n        );\r\n        let pUpdate;\r\n        foundProduct.length === 0\r\n          ? cartUpdate.products.push({ product: _id, qtyOrder: qtyOrder })\r\n          : (pUpdate = cartUpdate.products.map((p) =>\r\n              p.product === _id\r\n                ? {\r\n                    product: _id,\r\n                    qtyOrder: parseInt(qtyOrder) + parseInt(p.qtyOrder),\r\n                  }\r\n                : p\r\n            ));\r\n        cartUpdate.products =\r\n          foundProduct.length === 0 ? cartUpdate.products : pUpdate;\r\n        try {\r\n          const resp = await fetchConToken(\r\n            `cart/${cartUpdate._id}`,\r\n            cartUpdate,\r\n            'PUT'\r\n          );\r\n          const body = await resp.json();\r\n          if (body.ok) {\r\n            dispatch(cartChecking(body.cart));\r\n            dispatch(startUpdateProductQty(_id, qtyOrder, 'rest'));\r\n            dispatch(confirmAction());\r\n            Swal.fire('Producto agregado al carro');\r\n          } else if (body.msg === 'Token invalid') {\r\n            dispatch(startLogout());\r\n          } else {\r\n            Swal.fire('Error', body.msg, 'error');\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      } else if (body.msg === 'Token invalid') {\r\n        dispatch(startLogout());\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const startCartUpdateDeleteProduct = ({ _id, qtyOrder }) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(`cart/user`, {}, 'GET');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        let cartUpdate = body.cart;\r\n        cartUpdate.products = cartUpdate.products.filter(\r\n          (p) => p.product !== _id\r\n        );\r\n        try {\r\n          const resp = await fetchConToken(\r\n            `cart/${cartUpdate._id}`,\r\n            cartUpdate,\r\n            'PUT'\r\n          );\r\n          const body = await resp.json();\r\n          if (body.ok) {\r\n            dispatch(cartChecking(body.cart));\r\n            dispatch(startUpdateProductQty(_id, qtyOrder, 'add'));\r\n            dispatch(confirmAction());\r\n          } else if (body.msg === 'Token invalid') {\r\n            dispatch(startLogout());\r\n          } else {\r\n            Swal.fire('Error', body.msg, 'error');\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      } else if (body.msg === 'Token invalid') {\r\n        dispatch(startLogout());\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const startCartCancel = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(`cart/user`, {}, 'GET');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        const cartDelete = body.cart;\r\n        cartDelete.products.forEach((p) => {\r\n          dispatch(startUpdateProductQty(p.product, p.qtyOrder, 'add'));\r\n        });\r\n        try {\r\n          const resp = await fetchConToken(\r\n            `cart/${cartDelete._id}`,\r\n            {},\r\n            'DELETE'\r\n          );\r\n          const body = await resp.json();\r\n          if (body.ok) {\r\n            dispatch(cartDeleted());\r\n          } else if (body.msg === 'Token invalid') {\r\n            dispatch(startLogout());\r\n          } else {\r\n            console.log(body.msg);\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      } else {\r\n        console.log(body.msg);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const startCartDelete = (id) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(`cart/${id}`, {}, 'DELETE');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        dispatch(cartDeleted(id));\r\n      } else if (body.msg === 'Token invalid') {\r\n        dispatch(startLogout());\r\n      } else {\r\n        Swal.fire('Error', body.msg, 'error');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const cartDeleted = () => ({\r\n  type: types.cartDeleted,\r\n});\r\n","import Swal from 'sweetalert2';\r\n\r\nimport { types } from '../../types/types';\r\nimport { fetchConToken } from '../helpers/fetch';\r\nimport { confirmAction } from './action';\r\nimport { startLogout } from './auth';\r\nimport { startCartDelete } from './cart';\r\n\r\nexport const startSaleCheckingList = (uid) => {\r\n  console.log('StartSale');\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken('sale', {});\r\n      const body = await resp.json();\r\n      const sales = body.sales.map((s) => s);\r\n      dispatch(saleCheking(sales));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\nexport const saleCheking = (sales) => ({\r\n  type: types.saleCheckingList,\r\n  payload: sales,\r\n});\r\n\r\nexport const starNewSale = (sale) => {\r\n  return async (dispatch, getState) => {\r\n    Swal.fire({\r\n      title: 'Processing payment',\r\n      text: 'Please wait...',\r\n      allowOutsideClick: false,\r\n      showConfirmButton: false,\r\n      willOpen: () => {\r\n        Swal.showLoading();\r\n      },\r\n    });\r\n    const { firstName, lastName } = getState().auth;\r\n    const cart = getState().cart;\r\n    const saleN = {\r\n      seller: firstName + ' ' + lastName,\r\n      products: sale.products,\r\n      client: {\r\n        fullName: sale.fullName,\r\n        address: sale.address,\r\n        email: sale.email ? sale.email : ' ',\r\n      },\r\n      paymentBreakdown: {\r\n        paymentMethod: sale.paymentMethod,\r\n        card: sale.card ? sale.card : 0,\r\n        paidDate: sale.date,\r\n      },\r\n      totalAmount: sale.totalAmount,\r\n      state: 'active',\r\n    };\r\n\r\n    if (saleN.paymentBreakdown.paymentMethod !== 'cash') {\r\n      console.log(saleN.paymentBreakdown.paymentMethod);\r\n      Swal.fire({\r\n        title: 'Processing payment',\r\n        text: 'Please wait...',\r\n        allowOutsideClick: false,\r\n        showConfirmButton: false,\r\n        willOpen: () => {\r\n          Swal.showLoading();\r\n        },\r\n      });\r\n    }\r\n    try {\r\n      const resp = await fetchConToken('sale/new', saleN, 'POST');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        sale._id = body.sale._id;\r\n        dispatch(newSale(body.sale));\r\n        dispatch(startCartDelete(cart._id));\r\n        Swal.fire(\r\n          'Venta confirmada',\r\n          'Se ralizo operación con éxito',\r\n          'success'\r\n        );\r\n        dispatch(confirmAction());\r\n      } else if (body.msg === 'Token invalid') {\r\n        dispatch(startLogout());\r\n      } else {\r\n        console.log(body);\r\n        Swal.fire('Error', body.msg, 'error');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const newSale = (sale) => ({\r\n  type: types.saleNew,\r\n  payload: sale,\r\n});\r\n\r\nexport const starUpdateSale = (id) => {\r\n  return async (dispatch) => {\r\n    Swal.fire({\r\n      title: 'Uploading...',\r\n      text: 'Please wait...',\r\n      allowOutsideClick: false,\r\n      showConfirmButton: false,\r\n      willOpen: () => {\r\n        Swal.showLoading();\r\n      },\r\n    });\r\n    try {\r\n      const resp = await fetchConToken(`sale/${id}`, {}, 'GET');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        let sale = body.sale;\r\n        sale.state = 'inactive';\r\n        console.log(sale);\r\n        try {\r\n          const resp = await fetchConToken(`sale/${id}`, sale, 'PUT');\r\n          const body = await resp.json();\r\n          console.log(body);\r\n          if (body.ok) {\r\n            dispatch(startSaleChangeState(body.sale));\r\n            dispatch(confirmAction());\r\n            Swal.fire('Acción confirmada', 'Venta cancelada', 'success');\r\n          } else if (body.msg === 'Token invalid') {\r\n            dispatch(startLogout());\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\nexport const startSaleChangeState = (sale) => ({\r\n  type: types.saleChangeState,\r\n  payload: sale,\r\n});\r\n","import Swal from 'sweetalert2';\r\n\r\nimport { types } from '../../types/types';\r\nimport { fetchConToken } from '../helpers/fetch';\r\nimport { confirmAction } from './action';\r\nimport { startLogout } from './auth';\r\nimport { startAddImage } from '../helpers/startAddImage';\r\nimport { startDeleteOldImage } from '../helpers/startDeleteOldImage';\r\n\r\nexport const userStartCheckingList = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken('user', {});\r\n      const body = await resp.json();\r\n      const users = body.users.map((u) => u);\r\n      dispatch(userCheckingList(users));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\nexport const userCheckingList = (users) => ({\r\n  type: types.userCheckingList,\r\n  payload: users,\r\n});\r\n\r\nexport const startAddNewUser = (formValues, avatar) => {\r\n  return async (dispatch) => {\r\n    let user = {\r\n      firstName: formValues.firstName,\r\n      lastName: formValues.lastName,\r\n      email: formValues.email,\r\n      password: formValues.password,\r\n      employeePosition: formValues.employeePosition,\r\n      mediaUrl: formValues.mediaUrl,\r\n    };\r\n    Swal.fire({\r\n      title: 'Uploading...',\r\n      text: 'Please wait...',\r\n      allowOutsideClick: false,\r\n      showConfirmButton: false,\r\n      willOpen: () => {\r\n        Swal.showLoading();\r\n      },\r\n    });\r\n    if (avatar) {\r\n      user.mediaUrl = await dispatch(startAddImage(avatar));\r\n    } else {\r\n      user.mediaUrl =\r\n        'https://res.cloudinary.com/dcqudzsce/image/upload/v1613417488/super_market/no-image.png';\r\n    }\r\n    try {\r\n      const resp = await fetchConToken('user/new', user, 'POST');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        user._id = body.uid;\r\n        dispatch(addNewUser(user));\r\n        dispatch(confirmAction());\r\n        //Swal.close();\r\n        Swal.fire('Acción confirmada', 'Usuario agregado con éxito', 'success');\r\n      } else if (body.msg === 'Email already registered') {\r\n        Swal.fire('Error', body.msg, 'error');\r\n      } else if (body.msg === 'Token invalid') {\r\n        dispatch(startLogout());\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const addNewUser = (user) => ({\r\n  type: types.userAddNew,\r\n  payload: user,\r\n});\r\n\r\nexport const startUpdateUser = (formValues, avatar) => {\r\n  return async (dispatch) => {\r\n    let user = {\r\n      firstName: formValues.firstName,\r\n      lastName: formValues.lastName,\r\n      email: formValues.email,\r\n      password: formValues.password,\r\n      employeePosition: formValues.employeePosition,\r\n      mediaUrl: formValues.mediaUrl,\r\n    };\r\n    Swal.fire({\r\n      title: 'Uploading...',\r\n      text: 'Please wait...',\r\n      allowOutsideClick: false,\r\n      showConfirmButton: false,\r\n      willOpen: () => {\r\n        Swal.showLoading();\r\n      },\r\n    });\r\n    if (avatar) {\r\n      if (\r\n        user.mediaUrl !==\r\n        'https://res.cloudinary.com/dcqudzsce/image/upload/v1613417488/super_market/no-image.png'\r\n      ) {\r\n        await dispatch(startDeleteOldImage(user.mediaUrl));\r\n      }\r\n      user.mediaUrl = await dispatch(startAddImage(avatar));\r\n    }\r\n    try {\r\n      const resp = await fetchConToken(`user/${formValues._id}`, user, 'PUT');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        dispatch(userUpdated(body.user));\r\n        dispatch(confirmAction());\r\n        Swal.fire(\r\n          'Acción confirmada',\r\n          'Usuario modificado con éxito',\r\n          'success'\r\n        );\r\n      } else if (body.msg === 'Token invalid') {\r\n        dispatch(startLogout());\r\n      } else {\r\n        Swal.fire('Error', body.msg, 'error');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    //Swal.close();\r\n  };\r\n};\r\nconst userUpdated = (user) => ({\r\n  type: types.userUpdated,\r\n  payload: user,\r\n});\r\n\r\nexport const startDeleteUser = (id) => {\r\n  return async (dispatch, getState) => {\r\n    const { users } = getState().users;\r\n    const u = users.find((u) => u._id === id);\r\n    try {\r\n      Swal.fire({\r\n        title: 'Uploading...',\r\n        text: 'Please wait...',\r\n        allowOutsideClick: false,\r\n        showConfirmButton: false,\r\n        willOpen: () => {\r\n          Swal.showLoading();\r\n        },\r\n      });\r\n      if (\r\n        u.mediaUrl !==\r\n        'https://res.cloudinary.com/dcqudzsce/image/upload/v1613417488/super_market/no-image.png'\r\n      ) {\r\n        await dispatch(startDeleteOldImage(u.mediaUrl));\r\n      }\r\n      const resp = await fetchConToken(`user/${id}`, {}, 'DELETE');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        dispatch(userDeleted(id));\r\n        dispatch(confirmAction());\r\n        Swal.close();\r\n        Swal.fire(\r\n          'Acción confirmada',\r\n          'Usuario eliminado con éxito',\r\n          'success'\r\n        );\r\n      } else if (body.msg === 'Token invalid') {\r\n        dispatch(startLogout());\r\n      } else {\r\n        Swal.fire('Error', body.msg, 'error');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const userDeleted = (id) => ({\r\n  type: types.userDeleted,\r\n  payload: id,\r\n});\r\n","import Swal from 'sweetalert2';\r\n\r\nimport { types } from '../../types/types';\r\nimport { fetchConToken, fetchSinToken } from '../helpers/fetch';\r\nimport { startCartCheking } from './cart';\r\nimport { startCheckingListProducts } from './product';\r\nimport { startSaleCheckingList } from './sale';\r\nimport { userStartCheckingList } from './user';\r\n/* Necesito el return por ser una función asincrona, si no fuese asincorna\r\n * NO necesitaria el return, y esto es gracias a thunk\r\n */\r\nexport const startLogin = (email, password) => {\r\n  return async (dispatch) => {\r\n    //   //DEVUELVE UN CB, ejecuta y espera que se haga el dispatch, y recibe el dispatch desde el thunk\r\n    //   //localStorage.setItem('user', JSON.stringify(user));\r\n    //   /** sessionStorage.setItem(\"user\", JSON.stringify(user));\r\n    //    * Aca tengo que traer los datos de login, pasarlos al dispactch\r\n    //    * y si da error generar el swal, y sino da el error entonces pasarselos al store\r\n    //    *\r\n    const resp = await fetchSinToken('auth/new', { email, password }, 'POST');\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      localStorage.setItem('token', body.token);\r\n      localStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n      dispatch(\r\n        login({\r\n          uid: body.uid,\r\n          firstName: body.firstName,\r\n          lastName: body.lastName,\r\n          position: body.employeePosition,\r\n        })\r\n      );\r\n      if (body.employeePosition === 'gerente') {\r\n        dispatch(userStartCheckingList());\r\n        dispatch(startSaleCheckingList());\r\n      } else if (body.employeePosition === 'vendedor') {\r\n        dispatch(startCartCheking());\r\n      }\r\n      dispatch(startCheckingListProducts());\r\n    } else {\r\n      Swal.fire('Error', body.msg, 'error');\r\n    }\r\n  };\r\n};\r\n\r\nexport const login = (user) => ({\r\n  type: types.authLogin,\r\n  payload: user,\r\n});\r\n\r\nexport const startChecking = () => {\r\n  //Chequeo si hay un token guardado para saber si hay usuario logeado\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken('auth/renew');\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      localStorage.setItem('token', body.token);\r\n      localStorage.setItem('token-init-date', Date());\r\n      dispatch(\r\n        login({\r\n          uid: body.uid,\r\n          firstName: body.firstName,\r\n          lastName: body.lastName,\r\n          position: body.employeePosition,\r\n        })\r\n      );\r\n      console.log(body);\r\n      if (body.employeePosition === 'gerente') {\r\n        dispatch(userStartCheckingList());\r\n        dispatch(startSaleCheckingList());\r\n      } else if (body.employeePosition === 'vendedor') {\r\n        dispatch(startCartCheking());\r\n      }\r\n      dispatch(startCheckingListProducts());\r\n    } else if (body.msg === 'Token invalid') {\r\n      dispatch(ckeckingFinish());\r\n      dispatch(startLogout());\r\n    } else {\r\n      //Swal.fire('Error', body.msg, 'error');\r\n      dispatch(ckeckingFinish());\r\n    }\r\n  };\r\n};\r\nconst ckeckingFinish = () => ({\r\n  type: types.authCheckingFinish,\r\n});\r\n\r\nexport const startLogout = () => {\r\n  return (dispatch, getState) => {\r\n    localStorage.clear();\r\n    dispatch(logout());\r\n    Swal.fire('Error', 'Session cerrada', 'error');\r\n  };\r\n};\r\n\r\nexport const logout = () => ({\r\n  type: types.authLogout,\r\n});\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nexport const SpinnerR = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n        height: '100',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        \r\n      }}\r\n    >\r\n      <Loader type=\"ThreeDots\" color=\"#2BAD60\" height=\"100\" width=\"100\" />\r\n    </div>\r\n  );\r\n};\r\n","export const emailValidation = (inputData) => {\r\n  return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(\r\n    inputData\r\n  );\r\n};\r\n","/*\r\nCreacion de rutas, rutas padres e hijas\r\nnpm install react-router-dom\r\nnpm install -g create-react-app\r\n*/\r\nimport React, { useState } from 'react';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useForm } from '../hooks/useForm';\r\nimport '../css/bootstrap.min.css';\r\nimport '../css/signin.css';\r\n\r\nimport Swal from 'sweetalert2';\r\nimport { startLogin } from '../components/actions/auth';\r\nimport { emailValidation } from '../hooks/emailValidation';\r\n\r\nexport const LoginScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const [validated, setValidated] = useState(false);\r\n\r\n  const [formValues, handleInputChange] = useForm({\r\n    inputEmail: '',\r\n    inputPassword: '',\r\n  });\r\n  const { inputEmail, inputPassword } = formValues;\r\n\r\n  const handleSubmit = (event) => {\r\n    const form = event.currentTarget;\r\n    \r\n    if (form.checkValidity() === false) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    } else if (form.checkValidity() === true) {\r\n      event.preventDefault();\r\n      if (!emailValidation(inputEmail)) {\r\n        Swal.fire('Error', 'El formato del email es incorrecto', 'error');\r\n      } else {\r\n        dispatch(startLogin(inputEmail, inputPassword));\r\n      }\r\n    }\r\n    setValidated(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"form text-center\" style={{ height: '100vh' }}>\r\n      <Form\r\n        className=\"form-signin\"\r\n        noValidate\r\n        validated={validated}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <h1 className=\"h3 mb-3 font-weight-normal \">Login</h1>\r\n          <hr />\r\n\r\n          <Form.Control\r\n            className=\"form-control\"\r\n            name=\"inputEmail\"\r\n            onChange={handleInputChange}\r\n            placeholder=\"Email address\"\r\n            type=\"email\"\r\n            required\r\n            value={inputEmail}\r\n          />\r\n          <Form.Control.Feedback type=\"valid\">Válido!</Form.Control.Feedback>\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Ingrese un nombre válido\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"formBasicPassword\">\r\n          <Form.Control\r\n            //className={`form-control ${!validPass}`}\r\n            className=\"form-control\"\r\n            name=\"inputPassword\"\r\n            onChange={handleInputChange}\r\n            placeholder=\"Password\"\r\n            type=\"password\"\r\n            required\r\n            value={inputPassword}\r\n            minLength={6}\r\n          />\r\n          <Form.Control.Feedback type=\"valid\">Válido!</Form.Control.Feedback>\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            La contraseña debe tener al menos 6 caracteres!\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">\r\n          Sign in\r\n        </Button>\r\n        <p className=\"mt-5 mb-3 text-muted\">&copy; 2021</p>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from \"react\";\r\n/*Captura en tiempo real la entrada y la guarda en el state\r\n */\r\n\r\nexport const useForm = (initialState = {}) => {\r\n  //Establezco mi objeto inicial, y lo creo vacio en caso que no envien nada\r\n\r\n  const [values, setValues] = useState(initialState);\r\n  const reset = () => {\r\n    setValues(initialState);\r\n  };\r\n  const handleInputChange = ({ target }) => {\r\n    //{target} va entre llaves por que lo desectructuro del evento que dispara el button\r\n    setValues({\r\n      ...values,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  return [values, handleInputChange, reset];\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Button,\r\n  Card,\r\n  Container,\r\n  Row,\r\n  Badge,\r\n  ListGroup,\r\n} from 'react-bootstrap';\r\nimport '../../css/bootstrap.min.css';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst product = {\r\n  qty: '',\r\n  name: '',\r\n  tradeMark: '',\r\n  price: '',\r\n};\r\nexport const ProductDetail = ({ history }) => {\r\n  const { id } = useParams();\r\n  const { products } = useSelector((state) => state.products);\r\n  const [productView, setProductView] = useState(product);\r\n\r\n  const handleReturn = (e) => {\r\n    e.preventDefault();\r\n    history.goBack();\r\n    if (history.length >= 2) {\r\n      history.push('/');\r\n    } else {\r\n      history.goBack();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (products.length !== 0) {\r\n      const p = products.find((p) => p._id === id);\r\n      setProductView(p);\r\n    }\r\n    // else {\r\n    //   setProductView(product);\r\n    // }\r\n  }, [products, id]);\r\n  return (\r\n    <Container\r\n      className=\"animate__animated animate__fadeInLeftBig\"\r\n      style={{\r\n        width: '70%',\r\n        overflow: 'hidden',\r\n        marginTop: 20,\r\n        marginBottom: 20,\r\n      }}\r\n    >\r\n      <Card className=\"border-0\">\r\n        <div>\r\n          {productView.qty > 0 ? (\r\n            <Badge pill variant=\"success\" className=\"ml-4\">\r\n              En stock\r\n            </Badge>\r\n          ) : (\r\n            <Badge pill variant=\"danger\" className=\"ml-4\">\r\n              Sin stock\r\n            </Badge>\r\n          )}\r\n        </div>\r\n        <Card.Img\r\n          variant=\"top\"\r\n          src={productView.mediaUrl}\r\n          className=\"d-flex align-items-center\"\r\n          style={{\r\n            height: ' auto',\r\n            width: ' auto',\r\n            maxWidth: '300px',\r\n            maxHeight: '300px',\r\n            overflow: 'hidden',\r\n            objectFit: 'contain',\r\n            margin: 'auto',\r\n          }}\r\n        />\r\n        <Card.Body>\r\n          <Card.Title>\r\n            <ListGroup>\r\n              <ListGroup.Item>\r\n                <h4>{productView.name}</h4>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <h6>Marca: {productView.tradeMark}</h6>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <h6>Descripción: {productView.description}</h6>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <h6 className=\"text-muted\">Precio: ${productView.price}</h6>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <h6 className=\"text-muted\">Stock: {productView.qty}</h6>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Button\r\n                    variant=\"bnt btn-outline-info ml-2\"\r\n                    onClick={handleReturn}\r\n                  >\r\n                    Return\r\n                  </Button>\r\n                </Row>\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Card.Title>\r\n        </Card.Body>\r\n      </Card>\r\n    </Container>\r\n  );\r\n};\r\n// ProductDetail.propTypes = {\r\n//   product: PropTypes.object.isRequired,\r\n// };\r\n//src={pathImg}\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Modal, Form } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { startAddProductToCart, startNewCart } from '../../actions/cart';\r\n\r\nexport const ProductModal = ({ props }) => {\r\n  const [validated, setValidated] = useState(false);\r\n  const [show, setShow, product] = props;\r\n  const handleClose = () => setShow(false);\r\n  const [qtyOrder, setQtyOrder] = useState(0);\r\n  const dispatch = useDispatch();\r\n  const { uid } = useSelector((state) => state.auth);\r\n  const { action } = useSelector((state) => state.action);\r\n  const cart = useSelector((state) => state.cart);\r\n\r\n  const handleSetQty = (e) => {\r\n    e.preventDefault();\r\n    setQtyOrder(e.target.value);\r\n  };\r\n  const handleAddToCart = (event) => {\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    } else if (form.checkValidity() === true) {\r\n      event.preventDefault();\r\n      if (cart.user === '') {\r\n        dispatch(startNewCart(uid, product._id, qtyOrder));\r\n      } else {\r\n        dispatch(startAddProductToCart(uid, product._id, qtyOrder));\r\n      }\r\n    }\r\n    setValidated(true);\r\n  };\r\n  useEffect(() => {\r\n    if (action) {\r\n      setShow(false);\r\n    }\r\n  }, [action, setShow]);\r\n  return (\r\n    <>\r\n      <Modal\r\n        show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        // keyboard={false}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>{product.name}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>Marca: {product.tradeMark}</p>\r\n          <p>Precio por unidad: $ {product.price}</p>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Form\r\n            inline\r\n            className=\"ml-1\"\r\n            style={{ margin: 'auto' }}\r\n            onSubmit={handleAddToCart}\r\n            noValidate\r\n            validated={validated}\r\n          >\r\n            <Form.Group controlId=\"formInputQty\">\r\n              <Form.Label className=\"mr-2\">Cantidad:</Form.Label>\r\n              <Form.Control\r\n                className=\"form-control mr-4\"\r\n                name=\"qtyOrder\"\r\n                onChange={handleSetQty}\r\n                type=\"number\"\r\n                min={1}\r\n                max={product.qty}\r\n                required\r\n                value={qtyOrder}\r\n                pattern=\"[0-9]*\"\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group>\r\n              <Button className=\"mr-2 my-1\" type=\"submit\" variant=\"success\">\r\n                Agregar\r\n              </Button>\r\n              <Button variant=\"secondary\" onClick={handleClose}>\r\n                Cancelar\r\n              </Button>\r\n            </Form.Group>\r\n          </Form>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\nProductModal.propTypes = {\r\n  props: PropTypes.array.isRequired,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Card, Container, Row, Badge } from 'react-bootstrap';\r\nimport {\r\n  FileTextFill,\r\n  CartPlusFill,\r\n  Trash,\r\n  Pencil,\r\n} from 'react-bootstrap-icons';\r\nimport '../../css/bootstrap.min.css';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { ProductModal } from '../ui/modals/ProductModal';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { startDeleteProduct } from '../actions/product';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport const CardProduct = ({ product }) => {\r\n  const { position } = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch();\r\n  const [show, setShow] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const handleShopItem = (e) => {\r\n    e.preventDefault();\r\n    setShow(!show);\r\n  };\r\n  useEffect(() => {}, [show]);\r\n\r\n  const handleDelete = () => {\r\n    Swal.fire({\r\n      title: 'Desea eliminar el producto:',\r\n      text: `Código: ${product.code}, Nombre: ${product.name}`,\r\n      showCancelButton: true,\r\n      allowOutsideClick: false,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Eliminar',\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        dispatch(startDeleteProduct(product._id));\r\n        history.push('/products');\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container className=\"animate__animated animate__fadeIn\">\r\n      {show && <ProductModal props={[show, setShow, product]} />}\r\n      <Card border=\"dark\" style={{ maxWidth: '18rem' }}>\r\n        <div>\r\n          {product.qty > 0 ? (\r\n            <Badge pill variant=\"success\" className=\"ml-1\">\r\n              En stock\r\n            </Badge>\r\n          ) : (\r\n            <Badge pill variant=\"danger\" className=\"ml-1\">\r\n              Sin stock\r\n            </Badge>\r\n          )}\r\n        </div>\r\n\r\n        <Container\r\n          className=\"d-flex align-items-center \"\r\n          style={{\r\n            height: '18rem',\r\n            width: '100%',\r\n            overflow: 'hidden',\r\n          }}\r\n        >\r\n          <Card.Img\r\n            variant=\"top\"\r\n            src={product.mediaUrl}\r\n            className=\"d-flex align-items-center \"\r\n            alt={product.code}\r\n            style={{\r\n              height: ' auto',\r\n              width: ' auto',\r\n              maxWidth: '300px',\r\n              maxHeight: '300px',\r\n              overflow: 'hidden',\r\n              objectFit: 'contain',\r\n              margin: 'auto',\r\n            }}\r\n          />\r\n        </Container>\r\n\r\n        <Card.Body>\r\n          <Card.Title>{product.name}</Card.Title>\r\n          <Card.Text\r\n            style={{\r\n              maxLines: 3,\r\n              maxHeight: 50,\r\n              overflow: 'hidden',\r\n            }}\r\n          >\r\n            {product.tradeMark}\r\n          </Card.Text>\r\n          <small className=\"text-muted\">Código: ${product.code}</small>\r\n          <br />\r\n          <small className=\"text-muted\">Precio: ${product.price}</small>\r\n          <br />\r\n          <small className=\"text-muted\">Stock: {product.qty}</small>\r\n        </Card.Body>\r\n        <Card.Footer className=\"text-muted\">\r\n          <Row className=\"d-flex justify-content-end\">\r\n            {position === 'vendedor' && (\r\n              <>\r\n                <Link to={`./product/detail/${product._id}`}>\r\n                  <Button variant=\"primary\" className=\"mr-2 ml-auto\">\r\n                    <FileTextFill />\r\n                  </Button>\r\n                </Link>\r\n                {product.qty > 0 && (\r\n                  <Button\r\n                    variant=\"light\"\r\n                    className=\"mr-2 ml-2\"\r\n                    onClick={handleShopItem}\r\n                  >\r\n                    <CartPlusFill></CartPlusFill>\r\n                  </Button>\r\n                )}\r\n              </>\r\n            )}\r\n            {position === 'gerente' && (\r\n              <>\r\n                <Link to={`../product/${product._id}`}>\r\n                  <Button variant=\"secondary\" className=\"mr-2 ml-2\">\r\n                    <Pencil />\r\n                  </Button>\r\n                </Link>\r\n                <Button\r\n                  variant=\"danger\"\r\n                  className=\"mr-2 ml-2\"\r\n                  onClick={handleDelete}\r\n                >\r\n                  <Trash></Trash>\r\n                </Button>\r\n              </>\r\n            )}\r\n          </Row>\r\n        </Card.Footer>\r\n      </Card>\r\n    </Container>\r\n  );\r\n};\r\nCardProduct.propTypes = {\r\n  product: PropTypes.object.isRequired,\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { CardColumns, Container, Button, Col } from 'react-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { CloudPlus } from 'react-bootstrap-icons';\r\n\r\nimport '../../css/bootstrap.min.css';\r\nimport { CardProduct } from './CardProduct';\r\nimport { removeAction } from '../actions/action';\r\n\r\nexport const ProductsList = () => {\r\n  /* Tendria que confirurar la querystring aca para saber si viene alguna busqueda o no, porque ya lo tengo\r\n   * configurado en el dashBoardRoutes, y el string inicial es vacio,\r\n   * por lo que podría preguntar como viene el string, si viene vacio, buscar todos los productos,\r\n   * y si viene con algo realizar la busqueda y pasar solo ese producto\r\n   *\r\n   */\r\n  const { position } = useSelector((state) => state.auth);\r\n  const { products } = useSelector((state) => state.products);\r\n  const dispatch = useDispatch();\r\n  const { action } = useSelector((state) => state.action);\r\n\r\n  useEffect(() => {\r\n    \r\n    if (action) {\r\n      dispatch(removeAction());\r\n    }\r\n  }, [products, action, dispatch]);\r\n  return (\r\n    <div>\r\n      <Col className=\"col-lg-12\">\r\n        <Container className=\"my-3\">\r\n          {position === 'gerente' && (\r\n            <Link to={`./product`}>\r\n              <Button className=\"my-3\" variant=\"outline-secondary\">\r\n                <CloudPlus />\r\n              </Button>\r\n            </Link>\r\n          )}\r\n\r\n          <hr />\r\n          <CardColumns>\r\n            {products.map((product) => (\r\n              <CardProduct key={product._id} product={product} />\r\n            ))}\r\n          </CardColumns>\r\n        </Container>\r\n      </Col>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Button, Nav, Navbar } from 'react-bootstrap';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport { Cart4, Person } from 'react-bootstrap-icons';\r\nimport { startLogout } from '../actions/auth';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nexport const NavBarBoot = () => {\r\n  //const history = useHistory();\r\n  const history = useHistory(); //Puedo usarlo por el Router.Provider, que pasa el history\r\n\r\n  const dispatch = useDispatch();\r\n  const { firstName, position } = useSelector((state) => state.auth);\r\n  const cart = useSelector((state) => state.cart);\r\n  /**\r\n   * si no uso location puedo dejarlo asi, pero si uso location\r\n   * <FormControl\r\n   * onSubmit={handleSearchKeyUp}\r\n   * />\r\n   * hago lo siguiente npm install querystring\r\n   * import queryString from 'query-string\"\r\n   * const location = useLocation()\r\n   * const location.search\r\n   *    * querystring.parse (location.search)\r\n   * q es el parametro que me interesaria\r\n   * const {q =''}= queryString.parse(location.search)\r\n   * en el useForm configuro el input search como q\r\n   * inputSearch: q; pero si utilizo este metodo tengo que tener en cuenta que no\r\n   * redirecciona a otra pagina, sino que sigue en la misma con el querystring en el url\r\n   */\r\n\r\n  const handleLogut = (e) => {\r\n    e.preventDefault();\r\n    dispatch(startLogout());\r\n    history.replace('/login');\r\n  };\r\n  return (\r\n    <Navbar bg=\"dark\" variant=\"dark\">\r\n      <Navbar.Brand>SuperMarket</Navbar.Brand>\r\n      <Nav className=\"mr-auto\">\r\n        {position === 'gerente' && (\r\n          <NavLink className=\"nav-item nav-link\" exact to=\"/users\">\r\n            Usuarios\r\n          </NavLink>\r\n        )}\r\n\r\n        <NavLink className=\"nav-item nav-link\" exact to=\"/products\">\r\n          Productos\r\n        </NavLink>\r\n\r\n        {position === 'gerente' && (\r\n          <NavLink className=\"nav-item nav-link\" exact to=\"/sales\">\r\n            Ventas\r\n          </NavLink>\r\n        )}\r\n\r\n        {position !== 'gerente' && cart.products.length !== 0 && (\r\n          <NavLink className=\"nav-item nav-link\" exact to=\"/shop\">\r\n            <Cart4 />\r\n          </NavLink>\r\n        )}\r\n      </Nav>\r\n\r\n      <Nav.Item className=\"ml-auto\">\r\n        <NavLink\r\n          style={{ color: 'burlywood', justifyItems: 'center' }}\r\n          className=\"nav-item nav-link\"\r\n          exact\r\n          to=\"/shop\"\r\n        >\r\n          <Person\r\n            style={{ color: 'burlywood', justifyItems: 'flex', margin: 'auto' }}\r\n          />\r\n          {firstName}\r\n        </NavLink>\r\n      </Nav.Item>\r\n      <Button variant=\"outline-success ml-sm-4\" onClick={handleLogut}>\r\n        Logout\r\n      </Button>\r\n    </Navbar>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport '../../css/bootstrap.min.css';\r\n\r\nexport const TableHeadUsers = () => {\r\n  return (\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\" className=\"text-center\">\r\n          <span>Usuario</span>\r\n        </th>\r\n        <th scope=\"col\" className=\"text-center\">\r\n          <span>Correo electrónico</span>\r\n        </th>\r\n        <th className=\"text-center\">\r\n          <span>Puesto</span>\r\n        </th>\r\n        <th className=\"text-center\">\r\n          <span>Acción</span>\r\n        </th>\r\n      </tr>\r\n    </thead>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { Trash, Pencil } from 'react-bootstrap-icons';\r\nimport '../../css/bootstrap.min.css';\r\nimport '../../css/listUser.css';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const TableCellButton = (props) => {\r\n  //{code} lo desectructuro por que tengo las props.code, que viene en las propierties del componente\r\n  const { uid, handleShowDelete } = props;\r\n\r\n  return (\r\n    <td style={{ width: '20%' }} className=\"text-center\">\r\n      <Button variant=\"danger\" className=\"mr-2 ml-2\" onClick={handleShowDelete}>\r\n        <Trash></Trash>\r\n      </Button>\r\n      <Link to={`../user/${uid}`}>\r\n        <Button variant=\"secondary\" className=\"mr-2 ml-2\">\r\n          <Pencil />\r\n        </Button>\r\n      </Link>\r\n    </td>\r\n  );\r\n};\r\nTableCellButton.propTypes = {\r\n  uid: PropTypes.string.isRequired,\r\n  handleShowDelete: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport { Image } from 'react-bootstrap';\r\nimport PropTypes from 'prop-types';\r\nimport '../../css/bootstrap.min.css';\r\nimport '../../css/listUser.css';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport { TableCellButton } from './TableCellButton';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { startDeleteUser } from '../actions/user';\r\nexport const TableBodyUsers = ({ user }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleShowDelete = (e) => {\r\n    e.preventDefault();\r\n\r\n    Swal.fire({\r\n      title: 'Desea eliminar el usuario:',\r\n      text: `${user.firstName + ' ' + user.lastName}`,\r\n      showCancelButton: true,\r\n      allowOutsideClick: false,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Eliminar',\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        dispatch(startDeleteUser(user._id));\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <tr>\r\n      <td style={{ width: '25em' }}>\r\n        <Image\r\n          src={user.mediaUrl}\r\n          alt=\"\"\r\n          className=\"card-columns animate__animated animate__fadeIn\"\r\n          style={{\r\n            width: '50px',\r\n            height: '50px',\r\n          }}\r\n        />\r\n        <span className=\"user-link\">\r\n          {user.firstName + ' ' + user.lastName}\r\n        </span>\r\n      </td>\r\n      <td className=\"text-center\" style={{ width: '20em' }}>\r\n        <span className=\"user-subhead \">{user.email}</span>\r\n      </td>\r\n      <td className=\"text-center\">\r\n        <span>{user.employeePosition}</span>\r\n      </td>\r\n      <TableCellButton uid={user._id} handleShowDelete={handleShowDelete} />\r\n    </tr>\r\n  );\r\n};\r\nTableBodyUsers.propTypes = {\r\n  user: PropTypes.object.isRequired,\r\n  //handleShopDelete: PropTypes.func.isRequired,\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Container, Row, Table, Col, Button } from 'react-bootstrap';\r\n\r\nimport '../../css/bootstrap.min.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { TableHeadUsers } from '../user/TableHeadUsers';\r\nimport { TableBodyUsers } from '../user/TableBodyUsers';\r\n\r\nimport { PersonPlus } from 'react-bootstrap-icons';\r\nimport { removeAction } from '../actions/action';\r\n\r\nexport const UsersList = () => {\r\n  const { users } = useSelector((state) => state.users);\r\n  const dispatch = useDispatch();\r\n  const { action } = useSelector((state) => state.action);\r\n\r\n  useEffect(() => {\r\n    if (action) {\r\n      dispatch(removeAction());\r\n    }\r\n  }, [users, action, dispatch]);\r\n\r\n  return (\r\n    <div>\r\n      <Container>\r\n        <Row>\r\n          <Row className=\"mx-3\">\r\n            <Link to={`./user`}>\r\n              <Button className=\"btn-block my-3\" variant=\"outline-secondary\">\r\n                <PersonPlus />\r\n              </Button>\r\n            </Link>\r\n          </Row>\r\n\r\n          <Col className=\"col-lg-12\">\r\n            <div className=\"main-box clearfix\">\r\n              <Table responsive=\"sm\" className=\"table user-list\">\r\n                <TableHeadUsers />\r\n                <tbody data={users}>\r\n                  {users.map((user) => (\r\n                    <TableBodyUsers key={user._id} user={user} />\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/no-image.20962552.png\";","import React, { useEffect, useState } from 'react';\r\nimport { Image } from 'react-bootstrap';\r\nimport { PlusCircleFill } from 'react-bootstrap-icons';\r\nimport imgNoImage from '../../assets/no-image.png';\r\n\r\nexport const Avatar = (props) => {\r\n  const { avatar, setAvatar, imgUrl } = props;\r\n  const [img, setImg] = useState();\r\n\r\n  const handleUploadPicture = (e) => {\r\n    e.preventDefault();\r\n    if (e.target.files[0]) {\r\n      setAvatar(e.target.files[0]);\r\n      setImg(URL.createObjectURL(e.target.files[0]));\r\n    }\r\n  };\r\n  const handlePictureClick = (e) => {\r\n    document.querySelector('#fileSelector').click();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (imgUrl === '') {\r\n      setImg(imgNoImage);\r\n    } else {\r\n      setImg(imgUrl);\r\n    }\r\n  }, [imgUrl]);\r\n  return (\r\n    <>\r\n      {avatar === null ? (\r\n        <div>\r\n          <Image\r\n            src={img}\r\n            roundedCircle\r\n            style={{\r\n              maxHeight: '13em',\r\n              maxWidth: '13em',\r\n            }}\r\n          />\r\n          <input\r\n            id=\"fileSelector\"\r\n            type=\"file\"\r\n            name=\"file\"\r\n            style={{ display: 'none' }}\r\n            onChange={handleUploadPicture}\r\n          ></input>\r\n          <PlusCircleFill\r\n            style={{\r\n              marginLeft: '-3.5em',\r\n              marginTop: '10em',\r\n              position: 'absolute',\r\n              cursor: 'pointer',\r\n            }}\r\n            name=\"ref\"\r\n            onClick={handlePictureClick}\r\n            size={40}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <Image\r\n            src={img}\r\n            roundedCircle\r\n            style={{\r\n              height: '205px',\r\n              width: '205px',\r\n              maxHeight: '13em',\r\n              maxWidth: '13em',\r\n              //maxHeight: '25em',\r\n              //maxWidth: '13em',\r\n            }}\r\n          />\r\n          <input\r\n            id=\"fileSelector\"\r\n            type=\"file\"\r\n            name=\"file\"\r\n            style={{ display: 'none' }}\r\n            onChange={handleUploadPicture}\r\n          ></input>\r\n          <PlusCircleFill\r\n            style={{\r\n              marginLeft: '-3.5em',\r\n              marginTop: '10em',\r\n              position: 'absolute',\r\n              cursor: 'pointer',\r\n            }}\r\n            name=\"ref\"\r\n            onClick={handlePictureClick}\r\n            size={40}\r\n          />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Container, Button, Form, Col, InputGroup, Row } from 'react-bootstrap';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport '../../css/bootstrap.min.css';\r\n\r\nimport { emailValidation } from '../../hooks/emailValidation';\r\nimport { startAddNewUser, startUpdateUser } from '../actions/user';\r\nimport { removeAction } from '../actions/action';\r\nimport { Avatar } from '../ui/Avatar';\r\n\r\nconst initiUser = {\r\n  firstName: '',\r\n  lastName: '',\r\n  password: '',\r\n  email: '',\r\n  employeePosition: '',\r\n  mediaUrl: '',\r\n};\r\n\r\nexport const RegisterUser = () => {\r\n  /**\r\n   * Me toma el params como code (?) así que tengo que hacer un cambio de parametro\r\n   */\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { id } = useParams();\r\n  const { users } = useSelector((state) => state.users);\r\n  const { action } = useSelector((state) => state.action);\r\n  const [validated, setValidated] = useState(false);\r\n  const [avatar, setAvatar] = useState(null);\r\n\r\n  const [formValues, setFormValues] = useState(initiUser);\r\n  const {\r\n    firstName,\r\n    lastName,\r\n    email,\r\n    password,\r\n    employeePosition,\r\n    mediaUrl,\r\n  } = formValues;\r\n\r\n  var option = [\r\n    { label: 'Gerente', value: 'gerente' },\r\n    { label: 'Vendedor', value: 'vendedor' },\r\n  ];\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    setFormValues({\r\n      ...formValues,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    } else if (form.checkValidity() === true) {\r\n      event.preventDefault();\r\n      if (!emailValidation(email)) {\r\n        Swal.fire('Error', 'El formato del email es incorrecto', 'error');\r\n      } else {\r\n        if (id) {\r\n          dispatch(startUpdateUser(formValues, avatar));\r\n        } else {\r\n          dispatch(startAddNewUser(formValues, avatar));\r\n        }\r\n      }\r\n      setValidated(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (id && users.length !== 0) {\r\n      const userUpdate = users.find((user) => user._id === id);\r\n      userUpdate.password = '';\r\n      console.log(userUpdate);\r\n      setFormValues(userUpdate);\r\n    } else {\r\n      setFormValues(initiUser);\r\n    }\r\n    if (action) {\r\n      dispatch(removeAction());\r\n      history.push('/');\r\n    }\r\n    console.log(avatar);\r\n  }, [action, history, dispatch, id, users, avatar]);\r\n\r\n  return (\r\n    <Container className=\"mx-auto my-3\">\r\n      <Col\r\n        className=\"col-8\"\r\n        style={{\r\n          alignItems: 'center',\r\n          alignContent: 'center',\r\n          justifyContent: 'center',\r\n          justifyItems: 'center',\r\n          margin: 'auto',\r\n        }}\r\n      >\r\n        <Form validated={validated} onSubmit={handleSubmit}>\r\n          <div>\r\n            <Col\r\n              className=\"d-flex justify-content-center\"\r\n              style={{ height: '230px' }}\r\n            >\r\n              <Avatar\r\n                avatar={avatar}\r\n                setAvatar={setAvatar}\r\n                imgUrl={formValues.mediaUrl}\r\n                handleInputChange={handleInputChange}\r\n              />\r\n            </Col>\r\n          </div>\r\n          <Row>\r\n            <Form.Group as={Col} md=\"12\" controlId=\"validationCustom01\">\r\n              <Form.Label>Nombre usuario</Form.Label>\r\n              <Form.Control\r\n                className=\"form-control\"\r\n                name=\"firstName\"\r\n                onChange={handleInputChange}\r\n                placeholder=\"Nombre\"\r\n                type=\"text\"\r\n                required\r\n                value={firstName}\r\n                minLength={4}\r\n              />\r\n              <Form.Control.Feedback>Valido!</Form.Control.Feedback>\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Ingrese un nombre válido\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n            <Form.Group as={Col} md=\"12\" controlId=\"validationCustom02\">\r\n              <Form.Label>Apellido usuario</Form.Label>\r\n              <Form.Control\r\n                name=\"lastName\"\r\n                onChange={handleInputChange}\r\n                placeholder=\"Apellido\"\r\n                type=\"text\"\r\n                required\r\n                value={lastName}\r\n                minLength={4}\r\n              />\r\n              <Form.Control.Feedback>Valido!</Form.Control.Feedback>\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Ingrese un apellido válido\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n            {/**<Form.Group as={Col} md=\"12\" controlId=\"validationCustomUsername\"> */}\r\n            <Form.Group as={Col} md=\"12\" controlId=\"validationCustom03\">\r\n              <Form.Label>Correo electrónico</Form.Label>\r\n              <InputGroup>\r\n                <InputGroup.Prepend>\r\n                  <InputGroup.Text id=\"inputGroupPrepend\">@</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <Form.Control\r\n                  name=\"email\"\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Correo electrónico\"\r\n                  type=\"email\"\r\n                  required\r\n                  aria-describedby=\"inputGroupPrepend\"\r\n                  value={email}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  Ingrese un correo electrónico válido\r\n                </Form.Control.Feedback>\r\n              </InputGroup>\r\n            </Form.Group>\r\n            <Form.Group as={Col} md=\"12\" controlId=\"validationCustom04\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                name=\"password\"\r\n                onChange={handleInputChange}\r\n                placeholder=\"Contraseña\"\r\n                type=\"text\"\r\n                required\r\n                aria-describedby=\"inputGroupPrepend\"\r\n                value={password}\r\n                minLength={6}\r\n              />\r\n              <Form.Control.Feedback>Valido!</Form.Control.Feedback>\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                La contraseña debe tener al menos 6 caracteres\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n            <Form.Group as={Col} md=\"12\" controlId=\"validationCustom05\">\r\n              <Form.Label>Puesto</Form.Label>\r\n              <Form.Control\r\n                required\r\n                as=\"select\"\r\n                type=\"select\"\r\n                name=\"employeePosition\"\r\n                md={3}\r\n                onChange={handleInputChange}\r\n                onSelect={handleInputChange}\r\n                value={employeePosition}\r\n              >\r\n                <option value=\"\">Seleccionar una opción</option>\r\n                {option.map((option) => (\r\n                  <option key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </option>\r\n                ))}\r\n              </Form.Control>\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Debe seleccionar un puesto para el empleado.\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n          </Row>\r\n          <Button type=\"submit\">Submit form</Button>\r\n        </Form>\r\n      </Col>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Container, Button, Form, Col, Row } from 'react-bootstrap';\r\nimport '../../css/bootstrap.min.css';\r\nimport '../../css/register.css';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { startAddNewProduct, startUpdateProduct } from '../actions/product';\r\nimport { removeAction } from '../actions/action';\r\nimport { Avatar } from '../ui/Avatar';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst initProduct = {\r\n  name: '',\r\n  tradeMark: '',\r\n  description: '',\r\n  price: '',\r\n  qty: '',\r\n  mediaUrl: '',\r\n};\r\n\r\nexport const RegisterProduct = ({ history }) => {\r\n  const { id } = useParams();\r\n\r\n  const dispatch = useDispatch();\r\n  const { products } = useSelector((state) => state.products);\r\n  const { action } = useSelector((state) => state.action);\r\n  const [validated, setValidated] = useState(false);\r\n  const [avatar, setAvatar] = useState(null);\r\n\r\n  const [formValues, setFormValues] = useState(initProduct);\r\n  const { name, tradeMark, description, price, qty } = formValues;\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    console.log(target);\r\n    setFormValues({\r\n      ...formValues,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n  const handleSubmit = (event) => {\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    } else if (form.checkValidity() === true) {\r\n      event.preventDefault();\r\n      if (id) {\r\n        //Deberia ver si tengo imagen y sino agregarla, file===null\r\n        dispatch(startUpdateProduct(formValues, avatar));\r\n      } else {\r\n        //lo mismo tengo que ver si tengo imagen del producto para actualizarla\r\n        dispatch(startAddNewProduct(formValues, avatar));\r\n      }\r\n    }\r\n    setValidated(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (id && products.length !== 0) {\r\n      const productUpdate = products.find((p) => p._id === id);\r\n      setFormValues(productUpdate);\r\n    } else {\r\n      setFormValues(initProduct);\r\n    }\r\n    if (action) {\r\n      Swal.close();\r\n      Swal.fire(\r\n        'Acción confirmada',\r\n        'Producto modificado con éxito',\r\n        'success'\r\n      );\r\n      dispatch(removeAction());\r\n      history.push('/products');\r\n    }\r\n  }, [action, history, dispatch, id, products]);\r\n\r\n  return (\r\n    <Container className=\"mx-auto my-3\">\r\n      <Col\r\n        className=\"col-8\"\r\n        style={{\r\n          alignItems: 'center',\r\n          alignContent: 'center',\r\n          justifyContent: 'center',\r\n          justifyItems: 'center',\r\n          margin: 'auto',\r\n        }}\r\n      >\r\n        <Form validated={validated} onSubmit={handleSubmit}>\r\n          <div>\r\n            <Col\r\n              className=\"d-flex justify-content-center\"\r\n              style={{ height: '230px' }}\r\n            >\r\n              <Avatar\r\n                avatar={avatar}\r\n                setAvatar={setAvatar}\r\n                imgUrl={formValues.mediaUrl}\r\n                handleInputChange={handleInputChange}\r\n              />\r\n            </Col>\r\n          </div>\r\n          <Row>\r\n            <Form.Group as={Col} md=\"12\" controlId=\"validationCustom01\">\r\n              <Form.Label>Nombre del producto</Form.Label>\r\n              <Form.Control\r\n                className=\"form-control\"\r\n                name=\"name\"\r\n                onChange={handleInputChange}\r\n                placeholder=\"Nombre\"\r\n                type=\"text\"\r\n                required\r\n                value={name}\r\n                minLength={3}\r\n                maxLength={18}\r\n              />\r\n              <Form.Control.Feedback>Válido!</Form.Control.Feedback>\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Debe ingresar un nombre válido!\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Col} md=\"12\" controlId=\"validationCustom01\">\r\n              <Form.Label>Marca</Form.Label>\r\n              <Form.Control\r\n                className=\"form-control\"\r\n                name=\"tradeMark\"\r\n                onChange={handleInputChange}\r\n                placeholder=\"Marca\"\r\n                type=\"text\"\r\n                required\r\n                value={tradeMark}\r\n                minLength={4}\r\n              />\r\n              <Form.Control.Feedback>Válido!</Form.Control.Feedback>\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Debe ingresar una marca!\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Col} md=\"12\" controlId=\"validationCustom01\">\r\n              <Form.Label>Descripción</Form.Label>\r\n              <Form.Control\r\n                as=\"textarea\"\r\n                rows={4}\r\n                className=\"form-control\"\r\n                name=\"description\"\r\n                onChange={handleInputChange}\r\n                placeholder=\"Descripción del producto\"\r\n                type=\"text\"\r\n                value={description}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Col} md=\"12\" controlId=\"validationCustom01\">\r\n              <Form.Label>Stock</Form.Label>\r\n              <Form.Control\r\n                className=\"form-control\"\r\n                name=\"qty\"\r\n                onChange={handleInputChange}\r\n                type=\"text\"\r\n                required\r\n                value={qty}\r\n                placeholder=\"Stock\"\r\n                pattern=\"[0-9]*\"\r\n              />\r\n              <Form.Control.Feedback>Válido!</Form.Control.Feedback>\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Debe ingresar una cantidad válida!\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n            <Form.Group as={Col} md=\"12\" controlId=\"validationCustom01\">\r\n              <Form.Label>Precio</Form.Label>\r\n              <Form.Control\r\n                className=\"form-control\"\r\n                name=\"price\"\r\n                onChange={handleInputChange}\r\n                placeholder=\"Precio\"\r\n                type=\"number\"\r\n                required\r\n                value={price}\r\n                min={0.01}\r\n                step={0.01}\r\n              />\r\n              {/*inputMode=\"number\"*/}\r\n              <Form.Control.Feedback>Válido!</Form.Control.Feedback>\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Debe ingresar una precio válido!\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n          </Row>\r\n          <Button type=\"submit\">Registrar</Button>\r\n        </Form>\r\n      </Col>\r\n    </Container>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport '../../css/bootstrap.min.css';\r\n\r\nexport const TableHeadSales = () => {\r\n  return (\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\" className=\"text-center\">\r\n          <span>Número</span>\r\n        </th>\r\n        <th scope=\"col\" className=\"text-center\">\r\n          <span>Vendedor</span>\r\n        </th>\r\n        <th className=\"text-center\">\r\n          <span>Cliente</span>\r\n        </th>\r\n        <th className=\"text-center\">\r\n          <span>Fecha</span>\r\n        </th>\r\n        <th className=\"text-center\">\r\n          <span>Total $</span>\r\n        </th>\r\n        <th className=\"text-center\">\r\n          <span>Estado</span>\r\n        </th>\r\n        <th className=\"text-center\">\r\n          <span>Factura</span>\r\n        </th>\r\n      </tr>\r\n    </thead>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { Trash, FileTextFill } from 'react-bootstrap-icons';\r\nimport '../../css/bootstrap.min.css';\r\nimport '../../css/listUser.css';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const TableCellButton = (props) => {\r\n  //{code} lo desectructuro por que tengo las props.code, que viene en las propierties del componente\r\n  const { _id, handleShowDelete } = props;\r\n\r\n  return (\r\n    <td style={{ width: '15%' }} className=\"text-center\">\r\n      <Button variant=\"danger\" className=\"mr-1\" onClick={handleShowDelete}>\r\n        <Trash></Trash>\r\n      </Button>\r\n      <Link to={`./sales/${_id}`}>\r\n        <Button variant=\"primary\" className=\"mr-1\">\r\n          <FileTextFill />\r\n        </Button>\r\n      </Link>\r\n    </td>\r\n  );\r\n};\r\nTableCellButton.propTypes = {\r\n  _id: PropTypes.string.isRequired,\r\n  handleShowDelete: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport '../../css/bootstrap.min.css';\r\nimport '../../css/listUser.css';\r\n\r\nimport { TableCellButton } from './TableCellButton';\r\nimport { starUpdateSale } from '../actions/sale';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport const TableBodySales = ({ sale }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleShowDelete = (e) => {\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: 'Desea cancelar la venta',\r\n      text: `Factura: #${sale.code}`,\r\n      showCancelButton: true,\r\n      allowOutsideClick: false,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirmar',\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        dispatch(starUpdateSale(sale._id));\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <span># {sale.code}</span>\r\n      </td>\r\n      <td className=\"text-center\">\r\n        <span>{sale.seller}</span>\r\n      </td>\r\n      <td className=\"text-center\">\r\n        <span>{sale.client.fullName}</span>\r\n      </td>\r\n      <td className=\"text-center\">\r\n        <span>{sale.paymentBreakdown.paidDate.substring(0, 10)}</span>\r\n      </td>\r\n      <td className=\"text-center\">\r\n        <span>{sale.totalAmount}</span>\r\n      </td>\r\n      <td className=\"text-center\">\r\n        <span>{sale.state === 'active' ? 'Confirmada' : 'Cancelada'}</span>\r\n      </td>\r\n      <TableCellButton _id={sale._id} handleShowDelete={handleShowDelete} />\r\n    </tr>\r\n  );\r\n};\r\nTableBodySales.propTypes = {\r\n  sale: PropTypes.object.isRequired,\r\n  //handleShopDelete: PropTypes.func.isRequired,\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Container, Table, Col } from 'react-bootstrap';\r\n\r\nimport '../../css/bootstrap.min.css';\r\n\r\nimport { TableHeadSales } from './TableHeadSales';\r\nimport { TableBodySales } from './TableBodySales';\r\nimport { removeAction } from '../actions/action';\r\n\r\nexport const SalesList = () => {\r\n  const { sales } = useSelector((state) => state.sales);\r\n  const { action } = useSelector((state) => state.action);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (action) {\r\n      dispatch(removeAction());\r\n    }\r\n  }, [sales, action, dispatch]);\r\n  return (\r\n    <div>\r\n      <Container className=\"container mt-2 text-center\">\r\n        <h4 className=\"text-muted\">Ventas realizadas</h4>\r\n      </Container>\r\n      <Container className=\"container mb-4\">\r\n        <Col className=\"col-lg-12\">\r\n          <div className=\"main-box clearfix\">\r\n            <Table responsive=\"sm\" className=\"table user-list\">\r\n              <TableHeadSales />\r\n              <tbody data={sales}>\r\n                {sales.map((sale) => (\r\n                  <TableBodySales key={sale._id} sale={sale} />\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n          </div>\r\n        </Col>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nexport const SaleDetailTableHead = () => {\r\n  return (\r\n    <thead>\r\n      <tr>\r\n        <td className=\"text-center\">\r\n          <strong>Código</strong>\r\n        </td>\r\n        <td className=\"text-center\">\r\n          <strong>Producto</strong>\r\n        </td>\r\n        <td className=\"text-center\">\r\n          <strong>Precio</strong>\r\n        </td>\r\n        <td className=\"text-center\">\r\n          <strong>Cantidad</strong>\r\n        </td>\r\n        <td className=\"text-right\">\r\n          <strong>Total</strong>\r\n        </td>\r\n      </tr>\r\n    </thead>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const SaleDetailTableBody = ({ product }) => {\r\n  console.log(product);\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <span># {product.code}</span>\r\n      </td>\r\n      <td className=\"text-center\">\r\n        <span>{product.name}</span>\r\n      </td>\r\n      <td className=\"text-center\">\r\n        <span>{product.price}</span>\r\n      </td>\r\n      <td className=\"text-center\">\r\n        <span>{product.qty}</span>\r\n      </td>\r\n      <td className=\"text-center\">\r\n        <span>{product.amountProduct}</span>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\nSaleDetailTableBody.propTypes = {\r\n  product: PropTypes.object.isRequired,\r\n  //handleShopDelete: PropTypes.func.isRequired,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Col, Container, Row, Table } from 'react-bootstrap';\r\nimport { useParams } from 'react-router-dom';\r\nimport { SaleDetailTableHead } from './SaleDetailTableHead';\r\nimport { SaleDetailTableBody } from './SaleDetailTableBody';\r\n\r\nexport const SaleDetail = () => {\r\n  const { id } = useParams();\r\n  const { sales } = useSelector((state) => state.sales);\r\n  const [saleView, setSaleView] = useState(' ');\r\n\r\n  useEffect(() => {\r\n    if (sales.length !== 0) {\r\n      const s = sales.find((s) => s._id === id);\r\n      setSaleView(s);\r\n    }\r\n  }, [setSaleView, sales, id]);\r\n\r\n  return (\r\n    <Container className=\"border mt-2\">\r\n      <Row>\r\n        <Col className=\"col-xs-12\">\r\n          <h3>Factura</h3>\r\n          {saleView !== ' ' && <h6># {saleView.code}</h6>}\r\n          <hr />\r\n          {saleView !== ' ' && (\r\n            <Row>\r\n              <Col className=\"col-xs-6\">\r\n                <strong>Cliente</strong>\r\n                <br />\r\n                {saleView.client.fullName}\r\n                <br />\r\n                {saleView.client.email}\r\n                <br />\r\n                {saleView.client.address}\r\n              </Col>\r\n              <Col className=\"col-xs-6 text-right\">\r\n                <strong>Vendedor</strong>\r\n                <br />\r\n                {saleView.seller}\r\n                <br />\r\n                <br />\r\n              </Col>\r\n            </Row>\r\n          )}\r\n          {saleView !== ' ' && (\r\n            <Row>\r\n              <Col className=\"col-xs-6\">\r\n                <strong>\r\n                  {saleView.paymentBreakdown.paymentMethod === 'cash'\r\n                    ? 'Efectivo'\r\n                    : saleView.paymentBreakdown.paymentMethod === 'crediCard'\r\n                    ? 'Tarjeta de crédito'\r\n                    : 'Tarjeta de débito'}\r\n                </strong>\r\n                <br />\r\n                {saleView.paymentBreakdown.paymentMethod !== 'cash'\r\n                  ? saleView.paymentBreakdown.card\r\n                  : ' '}\r\n                <br />\r\n                <br />\r\n              </Col>\r\n              <Col className=\"col-xs-6 text-right\">\r\n                <strong>Fecha de venta</strong>\r\n                <br />\r\n                {saleView.paymentBreakdown.paidDate.substring(0, 10)}\r\n                <br />\r\n              </Col>\r\n            </Row>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col className=\"col-md-12\">\r\n          <div className=\"panel panel-default\">\r\n            <div className=\"panel-heading\">\r\n              <h5 className=\"panel-title\">\r\n                <strong>Detalle</strong>\r\n              </h5>\r\n            </div>\r\n            <div className=\"panel-body\">\r\n              <div className=\"table-responsive\">\r\n                <Table className=\"table table-condensed\">\r\n                  <SaleDetailTableHead />\r\n                  {saleView !== ' ' && (\r\n                    <tbody data={saleView.products}>\r\n                      {saleView.products.map((p) => (\r\n                        <SaleDetailTableBody key={p._id} product={p} />\r\n                      ))}\r\n                      <tr>\r\n                        <td className=\"no-line\"></td>\r\n                        <td className=\"no-line\"></td>\r\n                        <td className=\"no-line\"></td>\r\n                        <td className=\"no-line text-center\">\r\n                          <strong>Total</strong>\r\n                        </td>\r\n                        <td className=\"no-line text-center\">\r\n                          $ {saleView.totalAmount}\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  )}\r\n                </Table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { ProductDetail } from '../components/product/ProductDetail';\r\nimport { ProductsList } from '../components/product/ProductsList';\r\nimport { NavBarBoot } from '../components/ui/NavBarBoot';\r\nimport { UsersList } from '../components/user/UsersList';\r\nimport { RegisterUser } from '../components/user/RegisterUser';\r\nimport { RegisterProduct } from '../components/product/RegisterProduct';\r\nimport { SalesList } from '../components/sales/SalesList';\r\nimport { SaleDetail } from '../components/sales/detail/SaleDetail';\r\n\r\nexport const DashBoardRoutes = () => {\r\n  return (\r\n    <>\r\n      <NavBarBoot />\r\n\r\n      <Switch>\r\n        <Route exact path=\"/users\" component={UsersList} />\r\n        <Route exact path=\"/user/:id\" component={RegisterUser} />\r\n        <Route exact path=\"/user\" component={RegisterUser} />\r\n        {/*El siguiente componenete recibe un parametro en la url */}\r\n        <Route exact path=\"/products\" component={ProductsList} />\r\n        <Route exact path=\"/product/detail/:id\" component={ProductDetail} />\r\n        <Route exact path=\"/product/:id\" component={RegisterProduct} />\r\n        <Route exact path=\"/product/\" component={RegisterProduct} />\r\n        <Route exact path=\"/sales\" component={SalesList} />\r\n        <Route exact path=\"/sales/:id\" component={SaleDetail} />\r\n        <Redirect to=\"/users\" />\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport '../../css/bootstrap.min.css';\r\n\r\nexport const ShopCartTableHead = () => {\r\n  return (\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\" className=\"text-center\">Código</th>\r\n        <th scope=\"col\" className=\"text-center\">\r\n          <span>Producto</span>\r\n        </th>\r\n        <th scope=\"col\" className=\"text-center\">\r\n          <span>Marca</span>\r\n        </th>\r\n        <th scope=\"col\" className=\"text-center\">\r\n          <span>Cantidad</span>\r\n        </th>\r\n        <th scope=\"col\" className=\"text-center\">\r\n          <span>Precio unitario</span>\r\n        </th>\r\n        <th scope=\"col\" className=\"text-center\">\r\n          <span>Quitar item</span>\r\n        </th>\r\n      </tr>\r\n    </thead>\r\n  );\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport '../../css/bootstrap.min.css';\r\nimport '../../css/listUser.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button } from 'react-bootstrap';\r\nimport { XSquare } from 'react-bootstrap-icons';\r\nimport { startCartCancel, startCartUpdateDeleteProduct } from '../actions/cart';\r\n\r\nimport { removeAction } from '../actions/action';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport const ShopTableBody = ({ product }) => {\r\n  const { products } = useSelector((state) => state.products);\r\n  const cart = useSelector((state) => state.cart);\r\n  const { action } = useSelector((state) => state.action);\r\n  const dispatch = useDispatch();\r\n\r\n  const productView = products.filter((p) => p._id === product.product && p)[0];\r\n\r\n  const handleDeleteProductCart = (e) => {\r\n    Swal.fire({\r\n      title: 'Desea eliminar el producto:',\r\n      text: `Código: ${productView.code}, Nombre: ${productView.name}`,\r\n      showCancelButton: true,\r\n      allowOutsideClick: false,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Eliminar',\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        e.preventDefault();\r\n        if (cart.products.length === 1) {\r\n          dispatch(startCartCancel());\r\n        } else {\r\n          dispatch(\r\n            startCartUpdateDeleteProduct({\r\n              _id: product.product,\r\n              qtyOrder: product.qtyOrder,\r\n            })\r\n          );\r\n        }\r\n      }\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    if (action) {\r\n      dispatch(removeAction());\r\n    }\r\n  }, [dispatch, action]);\r\n  return (\r\n    <>\r\n      {!!productView && (\r\n        <tr>\r\n          <td className=\"text-center\"># {productView.code}</td>\r\n          <td className=\"text-center\">{productView.name}</td>\r\n          <td className=\"text-center\">{productView.tradeMark}</td>\r\n          <td className=\"text-center\">{product.qtyOrder}</td>\r\n          <td className=\"text-right\">$ {productView.price}</td>\r\n          <td className=\"text-right\">\r\n            <Button\r\n              className=\"btn btn-sm btn-danger\"\r\n              onClick={handleDeleteProductCart}\r\n            >\r\n              <XSquare></XSquare>\r\n            </Button>\r\n          </td>\r\n        </tr>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nShopTableBody.propTypes = {\r\n  product: PropTypes.object.isRequired,\r\n};\r\n","export const caltulateTotal = (products, productsOrder) => {\r\n  let element = 0;\r\n  for (let index = 0; index < productsOrder.length; index++) {\r\n    for (let j = 0; j < products.length; j++) {\r\n      if (products[j]._id === productsOrder[index].product) {\r\n        element = element + products[j].price * productsOrder[index].qtyOrder;\r\n      }\r\n    }\r\n  }\r\n  return element;\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport '../../css/bootstrap.min.css';\r\nimport '../../css/listUser.css';\r\nimport { useSelector } from 'react-redux';\r\nimport { caltulateTotal } from '../../hooks/calculateTotal';\r\n\r\nexport const ShopTableBodyFoot = (productsOrder) => {\r\n  const [total, setTotal] = useState(0);\r\n  const { products } = useSelector((state) => state.products);\r\n\r\n  useEffect(() => {\r\n    setTotal(caltulateTotal(products, productsOrder.products));\r\n  }, [productsOrder, products]);\r\n  return (\r\n    <>\r\n      <tr>\r\n        <td></td>\r\n        <td></td>\r\n        <td></td>\r\n        <td></td>\r\n        <td className=\"text-right\">\r\n          <strong>Total</strong>\r\n        </td>\r\n        <td className=\"text-right\">\r\n          <strong>$ {total}</strong>\r\n        </td>\r\n      </tr>\r\n    </>\r\n  );\r\n};\r\nShopTableBodyFoot.propTypes = {\r\n  products: PropTypes.array.isRequired,\r\n  //handleShopDelete: PropTypes.func.isRequired,\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { Button, Container, Row, Col, Table } from 'react-bootstrap';\r\nimport { CheckSquare, XSquare } from 'react-bootstrap-icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport '../../css/bootstrap.min.css';\r\n\r\nimport { startCartCancel } from '../actions/cart';\r\nimport { ShopCartTableHead } from './ShopCartTableHead';\r\nimport { ShopTableBody } from './ShopTableBody';\r\nimport { ShopTableBodyFoot } from './ShopTableBodyFoot';\r\n\r\nexport const ShopCart = () => {\r\n  const cart = useSelector((state) => state.cart);\r\n  const { action } = useSelector((state) => state.action);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleDeleteCart = (e) => {\r\n    Swal.fire({\r\n      title: 'Desea cancelar la orden de venta?',\r\n      showCancelButton: true,\r\n      allowOutsideClick: false,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Eliminar',\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        e.preventDefault();\r\n        dispatch(startCartCancel());\r\n        history.replace('/products');\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (cart.products.length === 0) {\r\n      history.replace('/products');\r\n    }\r\n  }, [cart, action, dispatch, history]);\r\n\r\n  return (\r\n    <div>\r\n      <Container className=\"container mt-2 text-center\">\r\n        <h4 className=\"text-muted\">Venta</h4>\r\n      </Container>\r\n      <Container className=\"container mb-4\">\r\n        <Row>\r\n          <Col className=\"col-12\">\r\n            <div className=\"main-box clearfix\">\r\n              <Table responsive=\"sm\" className=\"table user-list\">\r\n                <ShopCartTableHead />\r\n                {cart.products.length !== 0 && (\r\n                  <tbody data={cart.products}>\r\n                    {cart.products.length !== 0 &&\r\n                      cart.products.map((product) => (\r\n                        <ShopTableBody key={product._id} product={product} />\r\n                      ))}\r\n                    {cart.products.length !== 0 && (\r\n                      <ShopTableBodyFoot products={cart.products} />\r\n                    )}\r\n                  </tbody>\r\n                )}\r\n              </Table>\r\n            </div>\r\n          </Col>\r\n          {cart.products.length !== 0 && (\r\n            <Col className=\"col-12\">\r\n              <Link to={`/checkout`}>\r\n                <Button className=\"btn\" variant=\"success\">\r\n                  Finalizar venta\r\n                  <CheckSquare />\r\n                </Button>\r\n              </Link>\r\n              <Button\r\n                className=\"btn ml-2 \"\r\n                variant=\"danger\"\r\n                onClick={handleDeleteCart}\r\n              >\r\n                Cancelar venta <XSquare></XSquare>\r\n              </Button>\r\n            </Col>\r\n          )}\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n","export const productsInvoice = (products, productsOrder) => {\r\n  let element = [];\r\n  for (let index = 0; index < productsOrder.length; index++) {\r\n    for (let j = 0; j < products.length; j++) {\r\n      if (products[j]._id === productsOrder[index].product) {\r\n        element.push({\r\n          code: products[j].code,\r\n          name: products[j].name,\r\n          tradeMark: products[j].tradeMark,\r\n          qty: productsOrder[index].qtyOrder,\r\n          price: products[j].price,\r\n          amountProduct: productsOrder[index].qtyOrder * products[j].price,\r\n        });\r\n      }\r\n    }\r\n  }\r\n  return element;\r\n};\r\n","import React from 'react';\r\n\r\nexport const HeaderOrderDetail = ({ qtyProductsOrder }) => {\r\n  return (\r\n    <h4 className=\"d-flex justify-content-between align-items-center mb-3\">\r\n      <span className=\"text-muted\">Listado de productos</span>\r\n      <span className=\"badge badge-secondary badge-pill\">\r\n        {qtyProductsOrder}\r\n      </span>\r\n    </h4>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport const OrderItemDetail = ({ product }) => {\r\n  const { products } = useSelector((state) => state.products);\r\n  const [productView, setProductView] = useState();\r\n\r\n  useEffect(() => {\r\n    if (products.length !== 0) {\r\n      setProductView(products.filter((p) => p._id === product.product && p)[0]);\r\n    }\r\n  }, [products, product]);\r\n\r\n  return (\r\n    <li className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n      {productView && (\r\n        <>\r\n          <div>\r\n            <h6 className=\"my-0\">{productView.name}</h6>\r\n            <small className=\"text-muted\">{productView.tradeMark}</small>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-muted\">$ {productView.price}</span>\r\n            <br></br>\r\n            <small className=\"text-muted float-right\">{product.qtyOrder}</small>\r\n          </div>\r\n        </>\r\n      )}\r\n    </li>\r\n  );\r\n};\r\nOrderItemDetail.propTypes = {\r\n  product: PropTypes.object.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const OrderDetailFoot = ({ total }) => {\r\n  return (\r\n    <li className=\"list-group-item d-flex justify-content-between\">\r\n      <span>Total</span>\r\n      <strong>$ {total}</strong>\r\n    </li>\r\n  );\r\n};\r\nOrderDetailFoot.propTypes = {\r\n  total: PropTypes.number.isRequired,\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport '../../css/chekcout.css';\r\nimport { Button, Col, Container, Row, Form } from 'react-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { caltulateTotal } from '../../hooks/calculateTotal';\r\nimport { productsInvoice } from '../../hooks/productsInvoice';\r\nimport { removeAction } from '../actions/action';\r\nimport { starNewSale } from '../actions/sale';\r\nimport { HeaderOrderDetail } from '../orderDetail/HeaderOrderDetail';\r\nimport { OrderItemDetail } from '../orderDetail/OrderItemDetail';\r\nimport { OrderDetailFoot } from '../orderDetail/OrderDetailFoot';\r\nimport { validateCreditDateExpiration } from '../../hooks/validateCreditDateExpiration';\r\n\r\n\r\nconst initSale = {\r\n  fullName: '',\r\n  address: '',\r\n  email: '',\r\n  paymentMethod: '',\r\n  card: '',\r\n  expiredDate: '',\r\n  date: '',\r\n  cvv: '',\r\n  totalAmount: '',\r\n  nameFullCard: '',\r\n};\r\nexport const CheckOut = () => {\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((state) => state.cart);\r\n  const { uid } = useSelector((state) => state.auth);\r\n  const { action } = useSelector((state) => state.action);\r\n  const { products } = useSelector((state) => state.products);\r\n  const history = useHistory();\r\n  const [formValues, setFormValues] = useState(initSale);\r\n  const [msgExpireDate, setMsgExpireDate] = useState('');\r\n  const [validDate, setValidDate] = useState('');\r\n  const [validated, setValidated] = useState(false);\r\n  const [productsPass, setProductsPass] = useState();\r\n\r\n  const {\r\n    fullName,\r\n    address,\r\n    email,\r\n    paymentMethod,\r\n    card,\r\n    expiredDate,\r\n    date,\r\n    cvv,\r\n    totalAmount,\r\n    nameFullCard,\r\n  } = formValues;\r\n\r\n  var option = [\r\n    { label: 'Efectivo', value: 'cash' },\r\n    { label: 'Débito', value: 'debitCard' },\r\n    { label: 'Crédito', value: 'creditCard' },\r\n  ];\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    setFormValues({\r\n      ...formValues,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n  const handleInputNumber = ({ target }) => {\r\n    target.value === '' &&\r\n      setFormValues({\r\n        ...formValues,\r\n        [target.name]: target.value,\r\n      });\r\n    /^([0-9]*)$/.test(target.value) &&\r\n      setFormValues({\r\n        ...formValues,\r\n        [target.name]: target.value,\r\n      });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    } else if (form.checkValidity() === true) {\r\n      event.preventDefault();\r\n      if (formValues.paymentMethod !== 'cash') {\r\n        const { msg, valid } = validateCreditDateExpiration(\r\n          formValues.expiredDate\r\n        );\r\n        setValidDate(valid);\r\n        setMsgExpireDate(msg);\r\n        if (validDate === 'false') {\r\n          formValues.products = productsInvoice(products, productsPass);\r\n          formValues.date = new Date();\r\n          dispatch(starNewSale(formValues));\r\n        }\r\n      } else {\r\n        setValidDate('false');\r\n        formValues.products = productsInvoice(products, productsPass);\r\n        formValues.date = new Date();\r\n        dispatch(starNewSale(formValues));\r\n      }\r\n    }\r\n    setValidated(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (cart.user !== '') {\r\n      setProductsPass(cart.products);\r\n      if (products) {\r\n        formValues.totalAmount = caltulateTotal(products, cart.products);\r\n      }\r\n    }\r\n    if (action) {\r\n      dispatch(removeAction());\r\n      history.replace('/products');\r\n    }\r\n  }, [action, products, cart, uid, formValues, dispatch, history]);\r\n\r\n  return (\r\n    <Container className=\"mt-4\">\r\n      <Row>\r\n        <Col className=\"col-md-5 order-md-2 mb-4\">\r\n          {productsPass && (\r\n            <HeaderOrderDetail qtyProductsOrder={productsPass.length} />\r\n          )}\r\n          {\r\n            <ul className=\"list-group mb-3\">\r\n              {productsPass &&\r\n                productsPass.map((product) => (\r\n                  <OrderItemDetail key={product._id} product={product} />\r\n                ))}\r\n              {formValues.totalAmount !== 0 &&\r\n                formValues.totalAmount !== '' && (\r\n                  <OrderDetailFoot total={parseInt(formValues.totalAmount)} />\r\n                )}\r\n            </ul>\r\n          }\r\n        </Col>\r\n        <Col className=\"col-md-6\">\r\n          <h4 className=\"mb-3\">Datos del cliente</h4>\r\n          <Form noValidate validated={validated} onSubmit={handleSubmit}>\r\n            <Row>\r\n              <Col className=\"col-10 mb-3\">\r\n                <Form.Group controlId=\"validationCustom01\">\r\n                  <Form.Label>\r\n                    <h6 className=\"mb-1\">Nombre completo</h6>\r\n                  </Form.Label>\r\n                  <Form.Control\r\n                    className=\"form-control\"\r\n                    name=\"fullName\"\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Nombre\"\r\n                    type=\"text\"\r\n                    required\r\n                    value={fullName}\r\n                    minLength={3}\r\n                  />\r\n                  <Form.Control.Feedback>Válido!</Form.Control.Feedback>\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    Debe ingresar un nombre válido!\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"validationCustom02\">\r\n                  <Form.Label>\r\n                    <h6 className=\"mb-1\">Correo de facturación</h6>\r\n                  </Form.Label>\r\n                  <Form.Control\r\n                    className=\"form-control\"\r\n                    name=\"email\"\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Correo electrónico\"\r\n                    type=\"email\"\r\n                    value={email}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"validationCustom03\">\r\n                  <Form.Label>\r\n                    <h6 className=\"mb-1\">Dirección cliente</h6>\r\n                  </Form.Label>\r\n                  <Form.Control\r\n                    className=\"form-control\"\r\n                    name=\"address\"\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Dirección\"\r\n                    type=\"text\"\r\n                    required\r\n                    value={address}\r\n                    minLength={3}\r\n                  />\r\n                  <Form.Control.Feedback>Válido!</Form.Control.Feedback>\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    Debe ingresar una direción!\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n              <Col className=\"col-8 mb-3\">\r\n                <Form.Group controlId=\"validationCustom04\">\r\n                  <Form.Control\r\n                    required\r\n                    as=\"select\"\r\n                    type=\"select\"\r\n                    name=\"paymentMethod\"\r\n                    onChange={handleInputChange}\r\n                    onSelect={handleInputChange}\r\n                    value={paymentMethod}\r\n                  >\r\n                    <option value=\"\">Seleccionar una opción</option>\r\n                    {option.map((option) => (\r\n                      <option key={option.value} value={option.value}>\r\n                        {option.label}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Control>\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    Debe seleccionar un método de pago.\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n            {(paymentMethod === 'debitCard' ||\r\n              paymentMethod === 'creditCard') && (\r\n              <Row>\r\n                <Col className=\"col-10 mb-3\">\r\n                  <Form.Group controlId=\"validationCustom05\">\r\n                    <Form.Label>\r\n                      <h6 className=\"mb-1\">\r\n                        Nombre completo tarjeta de credito\r\n                      </h6>\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      className=\"form-control\"\r\n                      name=\"nameFullCard\"\r\n                      onChange={handleInputChange}\r\n                      placeholder=\"Nombre\"\r\n                      type=\"text\"\r\n                      required\r\n                      value={nameFullCard}\r\n                      minLength={3}\r\n                    />\r\n                    <Form.Control.Feedback>Válido!</Form.Control.Feedback>\r\n                    <Form.Control.Feedback type=\"invalid\">\r\n                      Debe ingresar un nombre válido!\r\n                    </Form.Control.Feedback>\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                <Col className=\"col-8 mb-3\">\r\n                  <Form.Group controlId=\"validationCustom06\">\r\n                    <Form.Label>\r\n                      <h6 className=\"mb-1\">Número de tarjeta de credito</h6>\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      className=\"form-control\"\r\n                      name=\"card\"\r\n                      onChange={handleInputNumber}\r\n                      placeholder=\"XXXX-XXXX-XXXX-XXXX\"\r\n                      type=\"text\"\r\n                      required\r\n                      value={card}\r\n                      minLength={16}\r\n                      maxLength={16}\r\n                    />\r\n                    <Form.Control.Feedback>Válido!</Form.Control.Feedback>\r\n                    <Form.Control.Feedback type=\"invalid\">\r\n                      Número invalido!\r\n                    </Form.Control.Feedback>\r\n                  </Form.Group>\r\n                </Col>\r\n                <Row className=\"ml-1\">\r\n                  <Col className=\"col-4 mb-3\">\r\n                    <Form.Group controlId=\"validationCustom07\">\r\n                      <Form.Label>\r\n                        <h6 className=\"mb-1\">Vencimiento</h6>\r\n                      </Form.Label>\r\n                      <Form.Control\r\n                        className={` ${\r\n                          validDate === 'true'\r\n                            ? 'form-control is-invalid'\r\n                            : 'form-control'\r\n                        }`}\r\n                        name=\"expiredDate\"\r\n                        onChange={handleInputNumber}\r\n                        placeholder=\"MMAA\"\r\n                        type=\"text\"\r\n                        value={expiredDate}\r\n                        minLength={4}\r\n                        maxLength={4}\r\n                        required\r\n                        isInvalid={validDate}\r\n                      />\r\n                      {validDate === 'true' ? (\r\n                        <Form.Control.Feedback type=\"invalid\">\r\n                          {msgExpireDate}\r\n                        </Form.Control.Feedback>\r\n                      ) : (\r\n                        ''\r\n                      )}\r\n                    </Form.Group>\r\n                  </Col>\r\n\r\n                  <Col className=\"col-3 mb-3\">\r\n                    <Form.Group controlId=\"validationCustom08\">\r\n                      <Form.Label>\r\n                        <h6 className=\"mb-1\">CVV</h6>\r\n                      </Form.Label>\r\n                      <Form.Control\r\n                        className=\"form-control\"\r\n                        name=\"cvv\"\r\n                        onChange={handleInputNumber}\r\n                        placeholder=\"***\"\r\n                        type=\"password\"\r\n                        required\r\n                        value={cvv}\r\n                        minLength={3}\r\n                        maxLength={3}\r\n                      />\r\n                      <Form.Control.Feedback>Válido!</Form.Control.Feedback>\r\n                      <Form.Control.Feedback type=\"invalid\">\r\n                        Número invalido!\r\n                      </Form.Control.Feedback>\r\n                    </Form.Group>\r\n                  </Col>\r\n                </Row>\r\n              </Row>\r\n            )}\r\n            <Button variant=\"success\" className=\"btn\" type=\"submit\">\r\n              Confrimar venta\r\n            </Button>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n","export const validateCreditDateExpiration = (inputExpireDate) => {\r\n  if (\r\n    parseInt(inputExpireDate[0] + inputExpireDate[1]) <= 0 ||\r\n    parseInt(inputExpireDate[0] + inputExpireDate[1]) >= 13\r\n  ) {\r\n    return { msg: 'Debe ingresar un mes válido', valid: 'true' };\r\n  } else if (\r\n    parseInt(inputExpireDate[2] + inputExpireDate[3]) <\r\n    new Date().getFullYear() - 2000\r\n  ) {\r\n    return { msg: 'Tarjeta vencida', valid: 'true' };\r\n  } else if (\r\n    parseInt(inputExpireDate[2] + inputExpireDate[3]) >\r\n    new Date().getFullYear() - 2000\r\n  ) {\r\n    return { msg: 'Tarjeta válida', valid: 'false' };\r\n  } else if (\r\n    parseInt(inputExpireDate[2] + inputExpireDate[3]) ===\r\n      new Date().getFullYear() - 2000 &&\r\n    inputExpireDate[0] + inputExpireDate[1] < new Date().getMonth() + 1\r\n  ) {\r\n    return { msg: 'Tarjeta vencida', valid: 'true' };\r\n  } else {\r\n    return { msg: 'Tarjeta válida', valid: 'false' };\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { ProductDetail } from '../components/product/ProductDetail';\r\nimport { ProductsList } from '../components/product/ProductsList';\r\nimport { NavBarBoot } from '../components/ui/NavBarBoot';\r\nimport { RegisterProduct } from '../components/product/RegisterProduct';\r\nimport { ShopCart } from '../components/shop/ShopCart';\r\nimport { CheckOut } from '../components/checkout/CheckOut';\r\n\r\nexport const DashBoardSellerRoutes = () => {\r\n  return (\r\n    <>\r\n      <NavBarBoot />\r\n\r\n      <Switch>\r\n        <Route exact path=\"/products\" component={ProductsList} />\r\n        <Route exact path=\"/product/detail/:id\" component={ProductDetail} />\r\n        <Route exact path=\"/product/:id\" component={RegisterProduct} />\r\n        <Route exact path=\"/shop\" component={ShopCart} />\r\n        <Route exact path=\"/checkout\" component={CheckOut} />\r\n        <Redirect to=\"/products\" />\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const PrivateRoute = ({\r\n  isAuthnticated,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n  /* Le paseo el resto de la s propiedades a la ruta privada,\r\n   * para luego pasarselas al Route, como el path, el exact y demas propiedades restantes\r\n   * cuando son en las propiedades son el rest\r\n   */\r\n  {\r\n    /*Le paso el parh, exact y demas, al protector de rutas*/\r\n  }\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props) =>\r\n        //histoy, location, params o search\r\n        isAuthnticated ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }\r\n    ></Route>\r\n  );\r\n};\r\nPrivateRoute.prototypes = {\r\n  isAuthnticated: PropTypes.bool.isRequired,\r\n  Component: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Route, Redirect } from 'react-router-dom';\n\n\nexport const PublicRoute = ({\n    isAuthenticated,\n    component: Component,\n    ...rest\n}) => {\n\n    return (\n        <Route { ...rest }\n            component={ (props) => (\n                ( isAuthenticated )\n                    ? ( <Redirect to=\"/\" /> )\n                    : ( <Component { ...props } /> )\n            )}\n        \n        />\n    )\n}\n\nPublicRoute.propTypes = {\n    isAuthenticated: PropTypes.bool.isRequired,\n    component: PropTypes.func.isRequired\n}\n","import React, { useEffect } from 'react';\r\nimport { Container } from 'react-bootstrap';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { BrowserRouter as Router, Switch, Redirect } from 'react-router-dom';\r\nimport { startChecking } from '../components/actions/auth';\r\nimport { SpinnerR } from '../components/ui/SpinnerR';\r\nimport { LoginScreen } from '../login/LoginScreen';\r\nimport { DashBoardRoutes } from './DashBoardRoutes';\r\nimport { DashBoardSellerRoutes } from './DashBoardSellerRoutes';\r\nimport { PrivateRoute } from './PrivateRoute';\r\nimport { PublicRoute } from './PublicRoute';\r\n\r\nexport const MarketRouter = () => {\r\n  const { checking, position, uid } = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(startChecking());\r\n\r\n    //\r\n    /**\r\n     * Tengo que verificar si tengo uid y la posición\r\n     * a fin de cargar todo en el store inicial\r\n     */\r\n  }, [dispatch]);\r\n  if (checking) {\r\n    return (\r\n      <Container\r\n        style={{\r\n          width: '100%',\r\n          height: '100vh',\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          margin: 'auto',\r\n        }}\r\n      >\r\n        <SpinnerR />\r\n      </Container>\r\n    );\r\n  }\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <PublicRoute\r\n          exact\r\n          path=\"/login\"\r\n          component={LoginScreen}\r\n          isAuthenticated={!!uid}\r\n        />\r\n\r\n        {/*<Route exact path=\"/login\" component={LoginScreen} />*/}\r\n        {/**Enmarca todas mis rutas privadas */}\r\n        {position === 'vendedor' ? (\r\n          <PrivateRoute\r\n            path=\"/\"\r\n            component={DashBoardSellerRoutes}\r\n            isAuthnticated={!!uid}\r\n          />\r\n        ) : (\r\n          <PrivateRoute\r\n            path=\"/\"\r\n            component={DashBoardRoutes}\r\n            isAuthnticated={!!uid}\r\n          />\r\n        )}\r\n        <Redirect to=\"/login\" />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n","import { types } from '../../types/types';\r\n\r\nconst initialState = {\r\n  action: false,\r\n};\r\n\r\nexport const actionReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.confirmAction:\r\n      return {\r\n        ...state,\r\n        action: true,\r\n      };\r\n    case types.removeAction:\r\n      return {\r\n        ...state,\r\n        action: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","/***\r\n * uid:\r\n * firstName:\r\n * employedPosition:\r\n * checking:true\r\n */\r\n\r\nimport { types } from '../../types/types';\r\nconst initialState = {\r\n  checking: true,\r\n  // uid: null,\r\n  // name: null\r\n  //position\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.authLogin:\r\n      /**\r\n       * Devuelvo el state como esta, modifico cheking para indicar que ya no tiene que\r\n       * checkear si el usuario esta logeado, por que ya fue verificado\r\n       * y le paso el payload que traigo de la acción anterior\r\n       * El checking en true solo lo utilizo cuando cargo la app y market router verifica\r\n       * si el usuario esta logueado\r\n       */\r\n      return {\r\n        ...state,\r\n        checking: false,\r\n        ...action.payload,\r\n      };\r\n    case types.authCheckingFinish:\r\n      return {\r\n        ...state,\r\n        checking: false,\r\n      };\r\n    case types.authLogout:\r\n          return { checking: false};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from '../../types/types';\r\n\r\nconst initialState = {\r\n  user: '',\r\n  products: [],\r\n  _id: '',\r\n};\r\n\r\nexport const cartReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.cartChecking:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    case types.updateCart:\r\n      return {\r\n        ...state,\r\n        cart: state.cart.map((cart) =>\r\n          cart._id === action.payload._id ? action.payload : cart\r\n        ),\r\n      };\r\n\r\n    case types.cartDeleted:\r\n      return {\r\n        ...state,\r\n        user: '',\r\n        products: [],\r\n        _id: '',\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from '../../types/types';\r\n\r\nconst initialState = {\r\n  products: [],\r\n};\r\n\r\nexport const productReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.productCheckingList:\r\n      return {\r\n        ...state,\r\n        products: action.payload,\r\n      };\r\n    case types.productAddNew:\r\n      return {\r\n        ...state,\r\n        products: [...state.products, action.payload],\r\n      };\r\n    case types.productUpdated:\r\n      return {\r\n        ...state,\r\n        products: state.products.map((product) =>\r\n          product._id === action.payload._id ? action.payload : product\r\n        ),\r\n      };\r\n\r\n    case types.productUpdatedCartRestQty:\r\n      return {\r\n        ...state,\r\n        products: state.products.map((product) =>\r\n          product._id === action.payload._id ? action.payload : product\r\n        ),\r\n      };\r\n    case types.productDeleted:\r\n      return {\r\n        ...state,\r\n        products: state.products.filter(\r\n          (product) => product._id !== action.payload\r\n        ),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from '../../types/types';\r\n\r\nconst initialState = {\r\n  sales: [],\r\n};\r\n\r\nexport const salesReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.saleCheckingList:\r\n      return {\r\n        ...state,\r\n        sales: action.payload,\r\n      };\r\n    case types.saleNew:\r\n      return {\r\n        ...state,\r\n        sales: [...state.sales, action.payload],\r\n      };\r\n    case types.saleChangeState:\r\n      return {\r\n        ...state,\r\n        sales: state.sales.map((sale) =>\r\n          sale._id === action.payload._id ? action.payload : sale\r\n        ),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from '../../types/types';\r\n\r\nconst initialState = {\r\n  users: [],\r\n};\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.userCheckingList:\r\n      return {\r\n        ...state,\r\n        users: action.payload,\r\n      };\r\n    case types.userAddNew:\r\n      return {\r\n        ...state,\r\n        users: [...state.users, action.payload],\r\n      };\r\n    case types.userUpdated:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) =>\r\n          user._id === action.payload._id ? action.payload : user\r\n        ),\r\n      };\r\n    case types.userDeleted:\r\n      return {\r\n        ...state,\r\n        users: state.users.filter((user) => user._id !== action.payload),\r\n      };\r\n      \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { actionReducer } from './actionReducer';\r\nimport { authReducer } from './authReducer';\r\nimport { cartReducer } from './cartReducer';\r\nimport { productReducer } from './productReducer';\r\nimport { salesReducer } from './salesReducer';\r\nimport { usersReducer } from './usersReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  users: usersReducer,\r\n  products: productReducer,\r\n  action: actionReducer,\r\n  cart: cartReducer,\r\n  sales: salesReducer,\r\n});\r\n","/* Trae obsarvable, creo el store, pero tengo que pasar los reducers, y\r\n * lo ideal es crear un funcion para combinar los reducers\r\n * Luego tengo que indicar a la app que tengo un store, en el punto mas alto de la app, es decir en la raiz\r\n */\r\nimport { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport { rootReducer } from '../reducers/rootReducer';\r\n\r\n/* Combina todos los reducers,ya que el store solo puede recibir un solo reducer\r\n *\r\n */\r\n/**\r\n * Uso mi rootReducer y evito utilizar el combine aqui\r\n */\r\nconst composeEnhancers =\r\n  (typeof window !== 'undefined' &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\r\n  compose;\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\n// let preloadedState;\r\n// const persistedUserString = sessionStorage.getItem(\"user\");\r\n\r\n// if (persistedUserString) {\r\n//   preloadedState = { auth: JSON.parse(persistedUserString) };\r\n// } else preloadedState = { auth: { logged: false } };\r\n\r\n// const reducers = combineReducers({\r\n//   auth: authReducer,\r\n// });\r\n\r\n// export const store = createStore(\r\n//   rootReducer,\r\n//   preloadedState,\r\n//   window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n","import React from \"react\";\nimport { MarketRouter } from \"../src/routers/MarkerRouter\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./components/store/store\";\nexport const MarketApp = () => {\n  return (\n    <Provider store={store}>\n      <MarketRouter />\n    </Provider>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n//import { Navbar } from \"./components/ui/NavBar\";\nimport { MarketApp } from \"./MarketApp\";\n\n//import { CardProduct } from \"./components/CardProduct\";\n//import { CardProduct } from \"./components/CardProduct\";\n//import { LoginScreen } from \"./components/LoginScreen\";\n//import { UsersList } from \"./components/UserList\";\n//import { ShopCar } from \"./components/ShopCar\";\n//import { CardsList } from \"../src/components/product/CardsList\";\n//import { RegisterUser } from \"./components/RegisterUser\";\n//import { RegisterProduct } from \"./components/RegisterProduct\";\n//import { ProductDetail } from \"./components/ProductDetail\";\nReactDOM.render(<MarketApp />, document.getElementById(\"root\"));\n"],"sourceRoot":""}